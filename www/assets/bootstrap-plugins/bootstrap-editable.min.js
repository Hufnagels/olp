/*! X-editable - v1.4.3
 * In-place editing with Twitter Bootstrap, jQuery UI or pure jQuery
 * http://github.com/vitalets/x-editable
 * Copyright (c) 2013 Vitaliy Potapov; Licensed MIT */
(function(c){var d=function(a,b){this.options=c.extend({},c.fn.editableform.defaults,b);this.$div=c(a);if(!this.options.scope){this.options.scope=this}};d.prototype={constructor:d,initInput:function(){this.input=this.options.input;this.value=this.input.str2value(this.options.value)},initTemplate:function(){this.$form=c(c.fn.editableform.template)},initButtons:function(){this.$form.find(".editable-buttons").append(c.fn.editableform.buttons)},render:function(){this.$loading=c(c.fn.editableform.loading);this.$div.empty().append(this.$loading);this.initTemplate();if(this.options.showbuttons){this.initButtons()}else{this.$form.find(".editable-buttons").remove()}this.showLoading();this.$div.triggerHandler("rendering");this.initInput();this.input.prerender();this.$form.find("div.editable-input").append(this.input.$tpl);this.$div.append(this.$form);c.when(this.input.render()).then(c.proxy(function(){if(!this.options.showbuttons){this.input.autosubmit()}this.$form.find(".editable-cancel").click(c.proxy(this.cancel,this));if(this.input.error){this.error(this.input.error);this.$form.find(".editable-submit").attr("disabled",true);this.input.$input.attr("disabled",true);this.$form.submit(function(a){a.preventDefault()})}else{this.error(false);this.input.$input.removeAttr("disabled");this.$form.find(".editable-submit").removeAttr("disabled");this.input.value2input(this.value);this.$form.submit(c.proxy(this.submit,this))}this.$div.triggerHandler("rendered");this.showForm();if(this.$form.find('[type="password"]').length>0){this.$form.find('[type="password"]').pwstrength({viewports:{progress:".editableform",verdict:".editableform",errors:".editableform"}})}if(this.input.postrender){this.input.postrender()}},this))},cancel:function(){this.$div.triggerHandler("cancel")},showLoading:function(){var b,a;if(this.$form){b=this.$form.outerWidth();a=this.$form.outerHeight();if(b){this.$loading.width(b)}if(a){this.$loading.height(a)}this.$form.hide()}else{b=this.$loading.parent().width();if(b){this.$loading.width(b)}}this.$loading.show()},showForm:function(a){this.$loading.hide();this.$form.show();if(a!==false){this.input.activate()}this.$div.triggerHandler("show")},error:function(a){var h=this.$form.find(".control-group"),b=this.$form.find(".editable-error-block"),j;if(a===false){h.removeClass(c.fn.editableform.errorGroupClass);b.removeClass(c.fn.editableform.errorBlockClass).empty().hide()}else{if(a){j=a.split("\n");for(var i=0;i<j.length;i++){j[i]=c("<div>").text(j[i]).html()}a=j.join("<br>")}h.addClass(c.fn.editableform.errorGroupClass);b.addClass(c.fn.editableform.errorBlockClass).html(a).show()}},submit:function(a){a.stopPropagation();a.preventDefault();var e,b=this.input.input2value();if(e=this.validate(b)){this.error(e);this.showForm();return}if(!this.options.savenochange&&this.input.value2str(b)==this.input.value2str(this.value)){this.$div.triggerHandler("nochange");return}c.when(this.save(b)).done(c.proxy(function(h){var f=typeof this.options.success==="function"?this.options.success.call(this.options.scope,h,b):null;if(f===false){this.error(false);this.showForm(false);return}if(typeof f==="string"){this.error(f);this.showForm();return}if(f&&typeof f==="object"&&f.hasOwnProperty("newValue")){b=f.newValue}this.error(false);this.value=b;this.$div.triggerHandler("save",{newValue:b,response:h})},this)).fail(c.proxy(function(f){this.error(typeof f==="string"?f:f.responseText||f.statusText||"Unknown error!");this.showForm()},this))},save:function(b){var i=this.input.value2submit(b);this.options.pk=c.fn.editableutils.tryParseJson(this.options.pk,true);var j=(typeof this.options.pk==="function")?this.options.pk.call(this.options.scope):this.options.pk,h=!!(typeof this.options.url==="function"||(this.options.url&&((this.options.send==="always")||(this.options.send==="auto"&&j)))),a;if(h){this.showLoading();a={name:this.options.name||"",value:i,pk:j};if(typeof this.options.params==="function"){a=this.options.params.call(this.options.scope,a)}else{this.options.params=c.fn.editableutils.tryParseJson(this.options.params,true);c.extend(a,this.options.params)}if(typeof this.options.url==="function"){return this.options.url.call(this.options.scope,a)}else{return c.ajax(c.extend({url:this.options.url,data:a,type:"POST"},this.options.ajaxOptions))}}},validate:function(a){if(a===undefined){a=this.value}if(typeof this.options.validate==="function"){return this.options.validate.call(this.options.scope,a)}},option:function(b,a){if(b in this.options){this.options[b]=a}if(b==="value"){this.setValue(a)}},setValue:function(b,a){if(a){this.value=this.input.str2value(b)}else{this.value=b}if(this.$form&&this.$form.is(":visible")){this.input.value2input(this.value)}}};c.fn.editableform=function(a){var b=arguments;return this.each(function(){var h=c(this),i=h.data("editableform"),j=typeof a==="object"&&a;if(!i){h.data("editableform",(i=new d(this,j)))}if(typeof a==="string"){i[a].apply(i,Array.prototype.slice.call(b,1))}})};c.fn.editableform.Constructor=d;c.fn.editableform.defaults={type:"text",url:null,params:null,name:null,pk:null,value:null,send:"auto",validate:null,success:null,ajaxOptions:null,showbuttons:true,scope:null,savenochange:false};c.fn.editableform.template='<form class="form-inline editableform"><div class="control-group"><div><div class="editable-input"></div><div class="editable-buttons"></div></div><div class="editable-error-block"></div></div></form>';c.fn.editableform.loading='<div class="editableform-loading"></div>';c.fn.editableform.buttons='<button type="submit" class="editable-submit">ok</button><button type="button" class="editable-cancel">cancel</button>';c.fn.editableform.errorGroupClass=null;c.fn.editableform.errorBlockClass="editable-error"}(window.jQuery));(function(b){b.fn.editableutils={inherit:function(f,a){var e=function(){};e.prototype=a.prototype;f.prototype=new e();f.prototype.constructor=f;f.superclass=a.prototype},setCursorPosition:function(f,e){if(f.setSelectionRange){f.setSelectionRange(e,e)}else{if(f.createTextRange){var a=f.createTextRange();a.collapse(true);a.moveEnd("character",e);a.moveStart("character",e);a.select()}}},tryParseJson:function(a,f){if(typeof a==="string"&&a.length&&a.match(/^[\{\[].*[\}\]]$/)){if(f){try{a=(new Function("return "+a))()}catch(e){}finally{return a}}else{a=(new Function("return "+a))()}}return a},sliceObj:function(i,j,a){var k,l,n={};if(!b.isArray(j)||!j.length){return n}for(var m=0;m<j.length;m++){k=j[m];if(i.hasOwnProperty(k)){n[k]=i[k]}if(a===true){continue}l=k.toLowerCase();if(i.hasOwnProperty(l)){n[k]=i[l]}}return n},getConfigData:function(a){var d={};b.each(a.data(),function(c,f){if(typeof f!=="object"||(f&&typeof f==="object"&&(f.constructor===Object||f.constructor===Array))){d[c]=f}});return d},objectKeys:function(e){if(Object.keys){return Object.keys(e)}else{if(e!==Object(e)){throw new TypeError("Object.keys called on a non-object")}var a=[],f;for(f in e){if(Object.prototype.hasOwnProperty.call(e,f)){a.push(f)}}return a}},escape:function(a){return b("<div>").text(a).html()},itemsByValue:function(h,i,k){if(!i||h===null){return[]}k=k||"value";var l=b.isArray(h),a=[],j=this;b.each(i,function(d,c){if(c.children){a=a.concat(j.itemsByValue(h,c.children,k))}else{if(l){if(b.grep(h,function(e){return e==(c&&typeof c==="object"?c[k]:c)}).length){a.push(c)}}else{if(h==(c&&typeof c==="object"?c[k]:c)){a.push(c)}}}});return a},createInput:function(j){var h,g,a,i=j.type;if(i==="date"){if(j.mode==="inline"){if(b.fn.editabletypes.datefield){i="datefield"}else{if(b.fn.editabletypes.dateuifield){i="dateuifield"}}}else{if(b.fn.editabletypes.date){i="date"}else{if(b.fn.editabletypes.dateui){i="dateui"}}}if(i==="date"&&!b.fn.editabletypes.date){i="combodate"}}if(i==="wysihtml5"&&!b.fn.editabletypes[i]){i="textarea"}if(typeof b.fn.editabletypes[i]==="function"){h=b.fn.editabletypes[i];g=this.sliceObj(j,this.objectKeys(h.defaults));a=new h(g);return a}else{b.error("Unknown type: "+i);return false}}}}(window.jQuery));(function(f){var d=function(a,b){this.init(a,b)};var e=function(a,b){this.init(a,b)};d.prototype={containerName:null,innerCss:null,init:function(a,b){this.$element=f(a);this.options=f.extend({},f.fn.editableContainer.defaults,b);this.splitOptions();this.formOptions.scope=this.$element[0];this.initContainer();this.$element.on("destroyed",f.proxy(function(){this.destroy()},this));if(!f(document).data("editable-handlers-attached")){f(document).on("keyup.editable",function(c){if(c.which===27){f(".editable-open").editableContainer("hide")}});f(document).on("click.editable",function(c){var l=f(c.target),k,i=[".editable-container",".ui-datepicker-header",".modal-backdrop",".bootstrap-wysihtml5-insert-image-modal",".bootstrap-wysihtml5-insert-link-modal"];for(k=0;k<i.length;k++){if(l.is(i[k])||l.parents(i[k]).length){return}}d.prototype.closeOthers(c.target)});f(document).data("editable-handlers-attached",true)}},splitOptions:function(){this.containerOptions={};this.formOptions={};var a=f.fn[this.containerName].defaults;for(var b in this.options){if(b in a){this.containerOptions[b]=this.options[b]}else{this.formOptions[b]=this.options[b]}}},tip:function(){return this.container()?this.container().$tip:null},container:function(){return this.$element.data(this.containerDataName||this.containerName)},call:function(){this.$element[this.containerName].apply(this.$element,arguments)},initContainer:function(){this.call(this.containerOptions)},renderForm:function(){this.$form.editableform(this.formOptions).on({save:f.proxy(this.save,this),nochange:f.proxy(function(){this.hide("nochange")},this),cancel:f.proxy(function(){this.hide("cancel")},this),show:f.proxy(this.setPosition,this),rendering:f.proxy(this.setPosition,this),resize:f.proxy(this.setPosition,this),rendered:f.proxy(function(){this.$element.triggerHandler("shown")},this)}).editableform("render")},show:function(a){this.$element.addClass("editable-open");if(a!==false){this.closeOthers(this.$element[0])}this.innerShow();this.tip().addClass("editable-container");if(this.$form){}this.$form=f("<div>");if(this.tip().is(this.innerCss)){this.tip().append(this.$form)}else{this.tip().find(this.innerCss).append(this.$form)}this.renderForm()},hide:function(a){if(!this.tip()||!this.tip().is(":visible")||!this.$element.hasClass("editable-open")){return}this.$element.removeClass("editable-open");this.innerHide();this.$element.triggerHandler("hidden",a)},innerShow:function(){},innerHide:function(){},toggle:function(a){if(this.container()&&this.tip()&&this.tip().is(":visible")){this.hide()}else{this.show(a)}},setPosition:function(){},save:function(b,a){this.$element.triggerHandler("save",a);this.hide("save")},option:function(b,a){this.options[b]=a;if(b in this.containerOptions){this.containerOptions[b]=a;this.setContainerOption(b,a)}else{this.formOptions[b]=a;if(this.$form){this.$form.editableform("option",b,a)}}},setContainerOption:function(b,a){this.call("option",b,a)},destroy:function(){this.hide();this.innerDestroy();this.$element.off("destroyed");this.$element.removeData("editableContainer")},innerDestroy:function(){},closeOthers:function(a){f(".editable-open").each(function(c,b){if(b===a||f(b).find(a).length){return}var i=f(b),j=i.data("editableContainer");if(!j){return}if(j.options.onblur==="cancel"){i.data("editableContainer").hide("onblur")}else{if(j.options.onblur==="submit"){i.data("editableContainer").tip().find("form").submit()}}})},activate:function(){if(this.tip&&this.tip().is(":visible")&&this.$form){this.$form.data("editableform").input.activate()}}};f.fn.editableContainer=function(a){var b=arguments;return this.each(function(){var l=f(this),c="editableContainer",m=l.data(c),n=typeof a==="object"&&a,k=(n.mode==="inline")?e:d;if(!m){l.data(c,(m=new k(this,n)))}if(typeof a==="string"){m[a].apply(m,Array.prototype.slice.call(b,1))}})};f.fn.editableContainer.Popup=d;f.fn.editableContainer.Inline=e;f.fn.editableContainer.defaults={value:null,placement:"top",autohide:true,onblur:"cancel",anim:false,mode:"popup"};jQuery.event.special.destroyed={remove:function(a){if(a.handler){a.handler()}}}}(window.jQuery));(function(b){b.extend(b.fn.editableContainer.Inline.prototype,b.fn.editableContainer.Popup.prototype,{containerName:"editableform",innerCss:".editable-inline",initContainer:function(){this.$tip=b("<span></span>").addClass("editable-inline");if(!this.options.anim){this.options.anim=0}},splitOptions:function(){this.containerOptions={};this.formOptions=this.options},tip:function(){return this.$tip},innerShow:function(){this.$element.hide();this.tip().insertAfter(this.$element).show()},innerHide:function(){this.$tip.hide(this.options.anim,b.proxy(function(){this.$element.show();this.innerDestroy()},this))},innerDestroy:function(){if(this.tip()){this.tip().empty().remove()}}})}(window.jQuery));(function(c){var d=function(a,b){this.$element=c(a);this.options=c.extend({},c.fn.editable.defaults,b,c.fn.editableutils.getConfigData(this.$element));if(this.options.selector){this.initLive()}else{this.init()}};d.prototype={constructor:d,init:function(){var f=false,b,a;this.options.name=this.options.name||this.$element.attr("id");this.options.scope=this.$element[0];this.input=c.fn.editableutils.createInput(this.options);if(!this.input){return}if(this.options.value===undefined||this.options.value===null){this.value=this.input.html2value(c.trim(this.$element.html()));f=true}else{this.options.value=c.fn.editableutils.tryParseJson(this.options.value,true);if(typeof this.options.value==="string"){this.value=this.input.str2value(this.options.value)}else{this.value=this.options.value}}this.$element.addClass("editable");if(this.options.toggle!=="manual"){this.$element.addClass("editable-click");this.$element.on(this.options.toggle+".editable",c.proxy(function(e){e.preventDefault();if(this.options.toggle==="mouseenter"){this.show()}else{var h=(this.options.toggle!=="click");this.toggle(h)}},this))}else{this.$element.attr("tabindex",-1)}switch(this.options.autotext){case"always":b=true;break;case"auto":b=!c.trim(this.$element.text()).length&&this.value!==null&&this.value!==undefined&&!f;break;default:b=false}c.when(b?this.render():true).then(c.proxy(function(){if(this.options.disabled){this.disable()}else{this.enable()}this.$element.triggerHandler("init",this)},this))},initLive:function(){var a=this.options.selector;this.options.selector=false;this.options.autotext="never";this.$element.on(this.options.toggle+".editable",a,c.proxy(function(b){var e=c(b.target);if(!e.data("editable")){if(e.hasClass(this.options.emptyclass)){e.empty()}e.editable(this.options).trigger(b)}},this))},render:function(a){if(this.options.display===false){return}if(this.input.value2htmlFinal){return this.input.value2html(this.value,this.$element[0],this.options.display,a)}else{if(typeof this.options.display==="function"){return this.options.display.call(this.$element[0],this.value,a)}else{return this.input.value2html(this.value,this.$element[0])}}},enable:function(){this.options.disabled=false;this.$element.removeClass("editable-disabled");this.handleEmpty(this.isEmpty);if(this.options.toggle!=="manual"){if(this.$element.attr("tabindex")==="-1"){this.$element.removeAttr("tabindex")}}},disable:function(){this.options.disabled=true;this.hide();this.$element.addClass("editable-disabled");this.handleEmpty(this.isEmpty);this.$element.attr("tabindex",-1)},toggleDisabled:function(){if(this.options.disabled){this.enable()}else{this.disable()}},option:function(b,a){if(b&&typeof b==="object"){c.each(b,c.proxy(function(g,h){this.option(c.trim(g),h)},this));return}this.options[b]=a;if(b==="disabled"){return a?this.disable():this.enable()}if(b==="value"){this.setValue(a)}if(this.container){this.container.option(b,a)}if(this.input.option){this.input.option(b,a)}},handleEmpty:function(a){if(this.options.display===false){return}this.isEmpty=a!==undefined?a:c.trim(this.$element.text())==="";if(!this.options.disabled){if(this.isEmpty){this.$element.text(this.options.emptytext);if(this.options.emptyclass){this.$element.addClass(this.options.emptyclass)}}else{if(this.options.emptyclass){this.$element.removeClass(this.options.emptyclass)}}}else{if(this.isEmpty){this.$element.empty();if(this.options.emptyclass){this.$element.removeClass(this.options.emptyclass)}}}},show:function(b){if(this.options.disabled){return}if(!this.container){var a=c.extend({},this.options,{value:this.value,input:this.input});this.$element.editableContainer(a);this.$element.on("save.internal",c.proxy(this.save,this));this.container=this.$element.data("editableContainer")}else{if(this.container.tip().is(":visible")){return}}this.container.show(b)},hide:function(){if(this.container){this.container.hide()}},toggle:function(a){if(this.container&&this.container.tip().is(":visible")){this.hide()}else{this.show(a)}},save:function(b,a){if(this.options.unsavedclass){var e=false;e=e||typeof this.options.url==="function";e=e||this.options.display===false;e=e||a.response!==undefined;e=e||(this.options.savenochange&&this.input.value2str(this.value)!==this.input.value2str(a.newValue));if(e){this.$element.removeClass(this.options.unsavedclass)}else{this.$element.addClass(this.options.unsavedclass)}}this.setValue(a.newValue,false,a.response)},validate:function(){if(typeof this.options.validate==="function"){return this.options.validate.call(this,this.value)}},setValue:function(b,a,f){if(a){this.value=this.input.str2value(b)}else{this.value=b}if(this.container){this.container.option("value",this.value)}c.when(this.render(f)).then(c.proxy(function(){this.handleEmpty()},this))},activate:function(){if(this.container){this.container.activate()}},destroy:function(){if(this.container){this.container.destroy()}if(this.options.toggle!=="manual"){this.$element.removeClass("editable-click");this.$element.off(this.options.toggle+".editable")}this.$element.off("save.internal");this.$element.removeClass("editable");this.$element.removeClass("editable-open");this.$element.removeData("editable")}};c.fn.editable=function(k){var p={},l=arguments,n="editable";switch(k){case"validate":this.each(function(){var e=c(this),f=e.data(n),g;if(f&&(g=f.validate())){p[f.options.name]=g}});return p;case"getValue":this.each(function(){var e=c(this),f=e.data(n);if(f&&f.value!==undefined&&f.value!==null){p[f.options.name]=f.input.value2submit(f.value)}});return p;case"submit":var m=arguments[1]||{},a=this,b=this.editable("validate"),o;if(c.isEmptyObject(b)){o=this.editable("getValue");if(m.data){c.extend(o,m.data)}c.ajax(c.extend({url:m.url,data:o,type:"POST"},m.ajaxOptions)).success(function(e){if(typeof m.success==="function"){m.success.call(a,e,m)}}).error(function(){if(typeof m.error==="function"){m.error.apply(a,arguments)}})}else{if(typeof m.error==="function"){m.error.call(a,b)}}return this}return this.each(function(){var e=c(this),f=e.data(n),g=typeof k==="object"&&k;if(!f){e.data(n,(f=new d(this,g)))}if(typeof k==="string"){f[k].apply(f,Array.prototype.slice.call(l,1))}})};c.fn.editable.defaults={type:"text",disabled:false,toggle:"click",emptytext:"Empty",autotext:"auto",value:null,display:null,emptyclass:"editable-empty",unsavedclass:"editable-unsaved",selector:null}}(window.jQuery));(function(c){c.fn.editabletypes={};var d=function(){};d.prototype={init:function(b,f,a){this.type=b;this.options=c.extend({},a,f)},prerender:function(){this.$tpl=c(this.options.tpl);this.$input=this.$tpl;this.$clear=null;this.error=null},render:function(){},value2html:function(a,b){c(b).text(a)},html2value:function(a){return c("<div>").html(a).text()},value2str:function(a){return a},str2value:function(a){return a},value2submit:function(a){return a},value2input:function(a){this.$input.val(a)},input2value:function(){return this.$input.val()},activate:function(){if(this.$input.is(":visible")){this.$input.focus()}},clear:function(){this.$input.val(null)},escape:function(a){return c("<div>").text(a).html()},autosubmit:function(){},setClass:function(){if(this.options.inputclass){this.$input.addClass(this.options.inputclass)}},setAttr:function(a){if(this.options[a]!==undefined&&this.options[a]!==null){this.$input.attr(a,this.options[a])}},option:function(b,a){this.options[b]=a}};d.defaults={tpl:"",inputclass:"input-medium",scope:null};c.extend(c.fn.editabletypes,{abstractinput:d})}(window.jQuery));(function(c){var d=function(a){};c.fn.editableutils.inherit(d,c.fn.editabletypes.abstractinput);c.extend(d.prototype,{render:function(){var a=c.Deferred();this.error=null;this.onSourceReady(function(){this.renderList();a.resolve()},function(){this.error=this.options.sourceError;a.resolve()});return a.promise()},html2value:function(a){return null},value2html:function(i,j,b,k){var l=c.Deferred(),a=function(){if(typeof b==="function"){b.call(j,i,this.sourceData,k)}else{this.value2htmlFinal(i,j)}l.resolve()};if(i===null){a.call(this)}else{this.onSourceReady(a,function(){l.resolve()})}return l.promise()},onSourceReady:function(a,k){if(c.isArray(this.sourceData)){a.call(this);return}try{this.options.source=c.fn.editableutils.tryParseJson(this.options.source,false)}catch(b){k.call(this);return}var j=this.options.source;if(c.isFunction(j)){j=j.call(this.options.scope)}if(typeof j==="string"){if(this.options.sourceCache){var e=j,l;if(!c(document).data(e)){c(document).data(e,{})}l=c(document).data(e);if(l.loading===false&&l.sourceData){this.sourceData=l.sourceData;this.doPrepend();a.call(this);return}else{if(l.loading===true){l.callbacks.push(c.proxy(function(){this.sourceData=l.sourceData;this.doPrepend();a.call(this)},this));l.err_callbacks.push(c.proxy(k,this));return}else{l.loading=true;l.callbacks=[];l.err_callbacks=[]}}}c.ajax({url:j,type:"get",cache:false,dataType:"json",success:c.proxy(function(f){if(l){l.loading=false}this.sourceData=this.makeArray(f);if(c.isArray(this.sourceData)){if(l){l.sourceData=this.sourceData;c.each(l.callbacks,function(){this.call()})}this.doPrepend();a.call(this)}else{k.call(this);if(l){c.each(l.err_callbacks,function(){this.call()})}}},this),error:c.proxy(function(){k.call(this);if(l){l.loading=false;c.each(l.err_callbacks,function(){this.call()})}},this)})}else{this.sourceData=this.makeArray(j);if(c.isArray(this.sourceData)){this.doPrepend();a.call(this)}else{k.call(this)}}},doPrepend:function(){if(this.options.prepend===null||this.options.prepend===undefined){return}if(!c.isArray(this.prependData)){if(c.isFunction(this.options.prepend)){this.options.prepend=this.options.prepend.call(this.options.scope)}this.options.prepend=c.fn.editableutils.tryParseJson(this.options.prepend,true);if(typeof this.options.prepend==="string"){this.options.prepend={"":this.options.prepend}}this.prependData=this.makeArray(this.options.prepend)}if(c.isArray(this.prependData)&&c.isArray(this.sourceData)){this.sourceData=this.prependData.concat(this.sourceData)}},renderList:function(){},value2htmlFinal:function(a,b){},makeArray:function(b){var i,a,n=[],k,m;if(!b||typeof b==="string"){return null}if(c.isArray(b)){m=function(e,f){a={value:e,text:f};if(i++>=2){return false}};for(var l=0;l<b.length;l++){k=b[l];if(typeof k==="object"){i=0;c.each(k,m);if(i===1){n.push(a)}else{if(i>1){if(k.children){k.children=this.makeArray(k.children)}n.push(k)}}}else{n.push({value:k,text:k})}}}else{c.each(b,function(e,f){n.push({value:e,text:f})})}return n},option:function(b,a){this.options[b]=a;if(b==="source"){this.sourceData=null}if(b==="prepend"){this.prependData=null}}});d.defaults=c.extend({},c.fn.editabletypes.abstractinput.defaults,{source:null,prepend:false,sourceError:"Error when loading list",sourceCache:true});c.fn.editabletypes.list=d}(window.jQuery));(function(c){var d=function(a){this.init("text",a,d.defaults)};c.fn.editableutils.inherit(d,c.fn.editabletypes.abstractinput);c.extend(d.prototype,{render:function(){this.renderClear();this.setClass();this.setAttr("placeholder")},activate:function(){if(this.$input.is(":visible")){this.$input.focus();c.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length);if(this.toggleClear){this.toggleClear()}}},renderClear:function(){if(this.options.clear){this.$clear=c('<span class="editable-clear-x"></span>');this.$input.after(this.$clear).css("padding-right",24).keyup(c.proxy(function(a){if(~c.inArray(a.keyCode,[40,38,9,13,27])){return}clearTimeout(this.t);var b=this;this.t=setTimeout(function(){b.toggleClear(a)},100)},this)).parent().css("position","relative");this.$clear.click(c.proxy(this.clear,this))}},postrender:function(){if(this.$clear){var b=this.$input.outerHeight()||20,a=(b-this.$clear.height())/2;if(a<3){a=3}this.$clear.css({bottom:a,right:a})}},toggleClear:function(b){if(!this.$clear){return}var e=this.$input.val().length,a=this.$clear.is(":visible");if(e&&!a){this.$clear.show()}if(!e&&a){this.$clear.hide()}},clear:function(){this.$clear.hide();this.$input.val("").focus()}});d.defaults=c.extend({},c.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',placeholder:null,clear:true});c.fn.editabletypes.text=d}(window.jQuery));(function(c){var d=function(a){this.init("textarea",a,d.defaults)};c.fn.editableutils.inherit(d,c.fn.editabletypes.abstractinput);c.extend(d.prototype,{render:function(){this.setClass();this.setAttr("placeholder");this.setAttr("rows");this.$input.keydown(function(a){if(a.ctrlKey&&a.which===13){c(this).closest("form").submit()}})},value2html:function(a,b){var h="",j;if(a){j=a.split("\n");for(var i=0;i<j.length;i++){j[i]=c("<div>").text(j[i]).html()}h=j.join("<br>")}c(b).html(h)},html2value:function(h){if(!h){return""}var b=new RegExp(String.fromCharCode(10),"g");var j=h.split(/<br\s*\/?>/i);for(var i=0;i<j.length;i++){var a=c("<div>").html(j[i]).text();a=a.replace(b,"");j[i]=a}return j.join("\n")},activate:function(){c.fn.editabletypes.text.prototype.activate.call(this)}});d.defaults=c.extend({},c.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea></textarea>",inputclass:"input-large",placeholder:null,rows:7});c.fn.editabletypes.textarea=d}(window.jQuery));(function(d){var c=function(a){this.init("select",a,c.defaults)};d.fn.editableutils.inherit(c,d.fn.editabletypes.list);d.extend(c.prototype,{renderList:function(){this.$input.empty();var a=function(g,b){if(d.isArray(b)){for(var h=0;h<b.length;h++){if(b[h].children){g.append(a(d("<optgroup>",{label:b[h].text}),b[h].children))}else{g.append(d("<option>",{value:b[h].value}).text(b[h].text))}}}return g};a(this.$input,this.sourceData);this.setClass();this.$input.on("keydown.editable",function(b){if(b.which===13){d(this).closest("form").submit()}})},value2htmlFinal:function(b,g){var a="",h=d.fn.editableutils.itemsByValue(b,this.sourceData);if(h.length){a=h[0].text}d(g).text(a)},autosubmit:function(){this.$input.off("keydown.editable").on("change.editable",function(){d(this).closest("form").submit()})}});c.defaults=d.extend({},d.fn.editabletypes.list.defaults,{tpl:"<select></select>"});d.fn.editabletypes.select=c}(window.jQuery));(function(c){var d=function(a){this.init("checklist",a,d.defaults)};c.fn.editableutils.inherit(d,c.fn.editabletypes.list);c.extend(d.prototype,{renderList:function(){var f,b;this.$tpl.empty();if(!c.isArray(this.sourceData)){return}for(var a=0;a<this.sourceData.length;a++){f=c("<label>").append(c("<input>",{type:"checkbox",value:this.sourceData[a].value})).append(c("<span>").text(" "+this.sourceData[a].text));c("<div>").append(f).appendTo(this.$tpl)}this.$input=this.$tpl.find('input[type="checkbox"]');this.setClass()},value2str:function(a){return c.isArray(a)?a.sort().join(c.trim(this.options.separator)):""},str2value:function(a){var f,b=null;if(typeof a==="string"&&a.length){f=new RegExp("\\s*"+c.trim(this.options.separator)+"\\s*");b=a.split(f)}else{if(c.isArray(a)){b=a}}return b},value2input:function(a){this.$input.prop("checked",false);if(c.isArray(a)&&a.length){this.$input.each(function(g,b){var h=c(b);c.each(a,function(f,e){if(h.val()==e){h.prop("checked",true)}})})}},input2value:function(){var a=[];this.$input.filter(":checked").each(function(f,b){a.push(c(b).val())});return a},value2htmlFinal:function(a,g){var h=[],b=c.fn.editableutils.itemsByValue(a,this.sourceData);if(b.length){c.each(b,function(e,f){h.push(c.fn.editableutils.escape(f.text))});c(g).html(h.join("<br>"))}else{c(g).empty()}},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(a){if(a.which===13){c(this).closest("form").submit()}})}});d.defaults=c.extend({},c.fn.editabletypes.list.defaults,{tpl:'<div class="editable-checklist"></div>',inputclass:null,separator:","});c.fn.editabletypes.checklist=d}(window.jQuery));(function(c){var d=function(a){this.init("password",a,d.defaults)};c.fn.editableutils.inherit(d,c.fn.editabletypes.text);c.extend(d.prototype,{value2html:function(a,b){if(a){c(b).text("[hidden]");c(b).attr("data-pwd",a)}else{c(b).empty()}},html2value:function(a){return null}});d.defaults=c.extend({},c.fn.editabletypes.text.defaults,{tpl:'<input type="password">'});c.fn.editabletypes.password=d}(window.jQuery));(function(d){var c=function(a){this.init("email",a,c.defaults)};d.fn.editableutils.inherit(c,d.fn.editabletypes.text);c.defaults=d.extend({},d.fn.editabletypes.text.defaults,{tpl:'<input type="email">'});d.fn.editabletypes.email=c}(window.jQuery));(function(d){var c=function(a){this.init("url",a,c.defaults)};d.fn.editableutils.inherit(c,d.fn.editabletypes.text);c.defaults=d.extend({},d.fn.editabletypes.text.defaults,{tpl:'<input type="url">'});d.fn.editabletypes.url=c}(window.jQuery));(function(d){var c=function(a){this.init("tel",a,c.defaults)};d.fn.editableutils.inherit(c,d.fn.editabletypes.text);c.defaults=d.extend({},d.fn.editabletypes.text.defaults,{tpl:'<input type="tel">'});d.fn.editabletypes.tel=c}(window.jQuery));(function(d){var c=function(a){this.init("number",a,c.defaults)};d.fn.editableutils.inherit(c,d.fn.editabletypes.text);d.extend(c.prototype,{render:function(){c.superclass.render.call(this);this.setAttr("min");this.setAttr("max");this.setAttr("step")}});c.defaults=d.extend({},d.fn.editabletypes.text.defaults,{tpl:'<input type="number">',inputclass:"input-mini",min:null,max:null,step:null});d.fn.editabletypes.number=c}(window.jQuery));(function(d){var c=function(a){this.init("range",a,c.defaults)};d.fn.editableutils.inherit(c,d.fn.editabletypes.number);d.extend(c.prototype,{render:function(){this.$input=this.$tpl.filter("input");this.setClass();this.setAttr("min");this.setAttr("max");this.setAttr("step");this.$input.on("input",function(){d(this).siblings("output").text(d(this).val())})},activate:function(){this.$input.focus()}});c.defaults=d.extend({},d.fn.editabletypes.number.defaults,{tpl:'<input type="range"><output style="width: 30px; display: inline-block"></output>',inputclass:"input-medium"});d.fn.editabletypes.range=c}(window.jQuery));(function(d){var c=function(b){this.init("select2",b,c.defaults);b.select2=b.select2||{};var a=this,f={placeholder:b.placeholder};this.isMultiple=b.select2.tags||b.select2.multiple;if(!b.select2.tags){if(b.source){f.data=b.source}f.initSelection=function(l,e){var j=a.str2value(l.val()),k=d.fn.editableutils.itemsByValue(j,f.data,"id");if(d.isArray(k)&&k.length&&!a.isMultiple){k=k[0]}e(k)}}this.options.select2=d.extend({},c.defaults.select2,f,b.select2)};d.fn.editableutils.inherit(c,d.fn.editabletypes.abstractinput);d.extend(c.prototype,{render:function(){this.setClass();this.$input.select2(this.options.select2);if("ajax" in this.options.select2){}if(this.isMultiple){this.$input.on("change",function(){d(this).closest("form").parent().triggerHandler("resize")})}},value2html:function(b,h){var a="",g;if(this.$input){g=this.$input.select2("data")}else{if(this.options.select2.tags){g=b}else{if(this.options.select2.data){g=d.fn.editableutils.itemsByValue(b,this.options.select2.data,"id")}else{}}}if(d.isArray(g)){a=[];d.each(g,function(e,f){a.push(f&&typeof f==="object"?f.text:f)})}else{if(g){a=g.text}}a=d.isArray(a)?a.join(this.options.viewseparator):a;d(h).text(a)},html2value:function(a){return this.options.select2.tags?this.str2value(a,this.options.viewseparator):null},value2input:function(a){this.$input.val(a).trigger("change",true)},input2value:function(){return this.$input.select2("val")},str2value:function(a,h){if(typeof a!=="string"||!this.isMultiple){return a}h=h||this.options.select2.separator||d.fn.select2.defaults.separator;var b,i,j;if(a===null||a.length<1){return null}b=a.split(h);for(i=0,j=b.length;i<j;i=i+1){b[i]=d.trim(b[i])}return b},autosubmit:function(){this.$input.on("change",function(a,b){if(!b){d(this).closest("form").submit()}})}});c.defaults=d.extend({},d.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="hidden">',select2:null,placeholder:null,source:null,viewseparator:", "});d.fn.editabletypes.select2=c}(window.jQuery));(function(c){var d=function(a,b){this.$element=c(a);if(!this.$element.is("input")){c.error("Combodate should be applied to INPUT element");return}this.options=c.extend({},c.fn.combodate.defaults,b,this.$element.data());this.init()};d.prototype={constructor:d,init:function(){this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]};this.$widget=c('<span class="combodate"></span>').html(this.getTemplate());this.initCombos();this.$widget.on("change","select",c.proxy(function(){this.$element.val(this.getValue())},this));this.$widget.find("select").css("width","auto");this.$element.hide().after(this.$widget);this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var a=this.options.template;c.each(this.map,function(i,j){j=j[0];var b=new RegExp(j+"+"),h=j.length>1?j.substring(1,2):j;a=a.replace(b,"{"+h+"}")});a=a.replace(/ /g,"&nbsp;");c.each(this.map,function(g,h){h=h[0];var b=h.length>1?h.substring(1,2):h;a=a.replace("{"+b+"}",'<select class="'+g+'"></select>')});return a},initCombos:function(){var a=this;c.each(this.map,function(j,k){var f=a.$widget.find("."+j),b,l;if(f.length){a["$"+j]=f;b="fill"+j.charAt(0).toUpperCase()+j.slice(1);l=a[b]();a["$"+j].html(a.renderItems(l))}})},initItems:function(g){var h=[],b;if(this.options.firstItem==="name"){b=moment.relativeTime||moment.langData()._relativeTime;var a=typeof b[g]==="function"?b[g](1,true,g,false):b[g];a=a.split(" ").reverse()[0];h.push(["",a])}else{if(this.options.firstItem==="empty"){h.push(["",""])}}return h},renderItems:function(f){var a=[];for(var b=0;b<f.length;b++){a.push('<option value="'+f[b][0]+'">'+f[b][1]+"</option>")}return a.join("\n")},fillDay:function(){var g=this.initItems("d"),b,a,h=this.options.template.indexOf("DD")!==-1;for(a=1;a<=31;a++){b=h?this.leadZero(a):a;g.push([a,b])}return g},fillMonth:function(){var k=this.initItems("M"),j,i,a=this.options.template.indexOf("MMMM")!==-1,b=this.options.template.indexOf("MMM")!==-1,l=this.options.template.indexOf("MM")!==-1;for(i=0;i<=11;i++){if(a){j=moment().month(i).format("MMMM")}else{if(b){j=moment().month(i).format("MMM")}else{if(l){j=this.leadZero(i+1)}else{j=i+1}}}k.push([i,j])}return k},fillYear:function(){var h=this.initItems("y"),g,b,a=this.options.template.indexOf("YYYY")!==-1;for(b=this.options.maxYear;b>=this.options.minYear;b--){g=a?b:(b+"").substring(2);h.push([b,g])}return h},fillHour:function(){var l=this.initItems("h"),k,i,a=this.options.template.indexOf("h")!==-1,b=this.options.template.indexOf("H")!==-1,m=this.options.template.toLowerCase().indexOf("hh")!==-1,n=a?12:23;for(i=0;i<=n;i++){k=m?this.leadZero(i):i;l.push([i,k])}return l},fillMinute:function(){var g=this.initItems("m"),b,a,h=this.options.template.indexOf("mm")!==-1;for(a=0;a<=59;a+=this.options.minuteStep){b=h?this.leadZero(a):a;g.push([a,b])}return g},fillSecond:function(){var g=this.initItems("s"),b,a,h=this.options.template.indexOf("ss")!==-1;for(a=0;a<=59;a+=this.options.secondStep){b=h?this.leadZero(a):a;g.push([a,b])}return g},fillAmpm:function(){var b=this.options.template.indexOf("a")!==-1,a=this.options.template.indexOf("A")!==-1,f=[["am",b?"am":"AM"],["pm",b?"pm":"PM"]];return f},getValue:function(b){var h,j={},i=this,a=false;c.each(this.map,function(f,g){if(f==="ampm"){return}var e=f==="day"?1:0;j[f]=i["$"+f]?parseInt(i["$"+f].val(),10):e;if(isNaN(j[f])){a=true;return false}});if(a){return""}if(this.$ampm){j.hour=this.$ampm.val()==="am"?j.hour:j.hour+12;if(j.hour===24){j.hour=0}}h=moment([j.year,j.month,j.day,j.hour,j.minute,j.second]);this.highlight(h);b=b===undefined?this.options.format:b;if(b===null){return h.isValid()?h:null}else{return h.isValid()?h.format(b):""}},setValue:function(a){if(!a){return}var b=typeof a==="string"?moment(a,this.options.format):moment(a),g=this,h={};if(b.isValid()){c.each(this.map,function(e,f){if(e==="ampm"){return}h[e]=b[f[1]]()});if(this.$ampm){if(h.hour>12){h.hour-=12;h.ampm="pm"}else{h.ampm="am"}}c.each(h,function(e,f){if(g["$"+e]){g["$"+e].val(f)}});this.$element.val(b.format(this.options.format))}},highlight:function(a){if(!a.isValid()){if(this.options.errorClass){this.$widget.addClass(this.options.errorClass)}else{if(!this.borderColor){this.borderColor=this.$widget.find("select").css("border-color")}this.$widget.find("select").css("border-color","red")}}else{if(this.options.errorClass){this.$widget.removeClass(this.options.errorClass)}else{this.$widget.find("select").css("border-color",this.borderColor)}}},leadZero:function(a){return a<=9?"0"+a:a},destroy:function(){this.$widget.remove();this.$element.removeData("combodate").show()}};c.fn.combodate=function(b){var a,g=Array.apply(null,arguments);g.shift();if(b==="getValue"&&this.length&&(a=this.eq(0).data("combodate"))){return a.getValue.apply(a,g)}return this.each(function(){var e=c(this),f=e.data("combodate"),i=typeof b=="object"&&b;if(!f){e.data("combodate",(f=new d(this,i)))}if(typeof b=="string"&&typeof f[b]=="function"){f[b].apply(f,g)}})};c.fn.combodate.defaults={format:"DD-MM-YYYY HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:2015,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null}}(window.jQuery));(function(d){var c=function(a){this.init("combodate",a,c.defaults);if(!this.options.viewformat){this.options.viewformat=this.options.format}a.combodate=d.fn.editableutils.tryParseJson(a.combodate,true);this.options.combodate=d.extend({},c.defaults.combodate,a.combodate,{format:this.options.format,template:this.options.template})};d.fn.editableutils.inherit(c,d.fn.editabletypes.abstractinput);d.extend(c.prototype,{render:function(){this.$input.combodate(this.options.combodate)},value2html:function(b,f){var a=b?b.format(this.options.viewformat):"";d(f).text(a)},html2value:function(a){return a?moment(a,this.options.viewformat):null},value2str:function(a){return a?a.format(this.options.format):""},str2value:function(a){return a?moment(a,this.options.format):null},value2submit:function(a){return this.value2str(a)},value2input:function(a){this.$input.combodate("setValue",a)},input2value:function(){return this.$input.combodate("getValue",null)},activate:function(){this.$input.siblings(".combodate").find("select").eq(0).focus()},autosubmit:function(){}});c.defaults=d.extend({},d.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',inputclass:null,format:"YYYY-MM-DD",viewformat:null,template:"D / MMM / YYYY",combodate:null});d.fn.editabletypes.combodate=c}(window.jQuery));(function(b){b.extend(b.fn.editableform.Constructor.prototype,{initTemplate:function(){this.$form=b(b.fn.editableform.template);this.$form.find(".editable-error-block").addClass("help-block")}});b.fn.editableform.buttons='<button type="submit" class="btn btn-dark editable-submit"><i class="icon-ok icon-white"></i></button><button type="button" class="btn btn-dark editable-cancel"><i class="icon-remove"></i></button>';b.fn.editableform.errorGroupClass="error";b.fn.editableform.errorBlockClass=null}(window.jQuery));(function(b){b.extend(b.fn.editableContainer.Popup.prototype,{containerName:"popover",innerCss:b(b.fn.popover.defaults.template).find("p").length?".popover-content p":".popover-content",initContainer:function(){b.extend(this.containerOptions,{trigger:"manual",selector:false,content:" ",template:b.fn.popover.defaults.template});var a;if(this.$element.data("template")){a=this.$element.data("template");this.$element.removeData("template")}this.call(this.containerOptions);if(a){this.$element.data("template",a)}},innerShow:function(){this.call("show")},innerHide:function(){this.call("hide")},innerDestroy:function(){this.call("destroy")},setContainerOption:function(a,d){this.container().options[a]=d},setPosition:function(){(function(){var k=this.tip(),a,i,m,j,n,l;n=typeof this.options.placement==="function"?this.options.placement.call(this,k[0],this.$element[0]):this.options.placement;a=/in/.test(n);k.removeClass("top right bottom left").css({top:0,left:0,display:"block"});i=this.getPosition(a);m=k[0].offsetWidth;j=k[0].offsetHeight;switch(a?n.split(" ")[1]:n){case"bottom":l={top:i.top+i.height,left:i.left+i.width/2-m/2};break;case"top":l={top:i.top-j,left:i.left+i.width/2-m/2};break;case"left":l={top:i.top+i.height/2-j/2,left:i.left-m};break;case"right":l={top:i.top+i.height/2-j/2,left:i.left+i.width};break}k.offset(l).addClass(n).addClass("in")}).call(this.container())}})}(window.jQuery));(function(c){var d=function(a){this.init("date",a,d.defaults);this.initPicker(a,d.defaults)};c.fn.editableutils.inherit(d,c.fn.editabletypes.abstractinput);c.extend(d.prototype,{initPicker:function(b,a){if(!this.options.viewformat){this.options.viewformat=this.options.format}this.options.datepicker=c.extend({},a.datepicker,b.datepicker,{format:this.options.viewformat});this.options.datepicker.language=this.options.datepicker.language||"en";this.dpg=c.fn.datepicker.DPGlobal;this.parsedFormat=this.dpg.parseFormat(this.options.format);this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat)},render:function(){this.$input.datepicker(this.options.datepicker);if(this.options.clear){this.$clear=c('<a href="#"></a>').html(this.options.clear).click(c.proxy(function(a){a.preventDefault();a.stopPropagation();this.clear()},this));this.$tpl.parent().append(c('<div class="editable-clear">').append(this.$clear))}},value2html:function(b,f){var a=b?this.dpg.formatDate(b,this.parsedViewFormat,this.options.datepicker.language):"";d.superclass.value2html(a,f)},html2value:function(a){return a?this.dpg.parseDate(a,this.parsedViewFormat,this.options.datepicker.language):null},value2str:function(a){return a?this.dpg.formatDate(a,this.parsedFormat,this.options.datepicker.language):""},str2value:function(a){return a?this.dpg.parseDate(a,this.parsedFormat,this.options.datepicker.language):null},value2submit:function(a){return this.value2str(a)},value2input:function(a){this.$input.datepicker("update",a)},input2value:function(){return this.$input.data("datepicker").date},activate:function(){},clear:function(){this.$input.data("datepicker").date=null;this.$input.find(".active").removeClass("active")},autosubmit:function(){this.$input.on("mouseup",".day",function(a){if(c(a.currentTarget).is(".old")||c(a.currentTarget).is(".new")){return}var b=c(this).closest("form");setTimeout(function(){b.submit()},200)})}});d.defaults=c.extend({},c.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd",viewformat:null,datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:false},clear:"&times; clear"});c.fn.editabletypes.date=d}(window.jQuery));(function(c){var d=function(a){this.init("datefield",a,d.defaults);this.initPicker(a,d.defaults)};c.fn.editableutils.inherit(d,c.fn.editabletypes.date);c.extend(d.prototype,{render:function(){this.$input=this.$tpl.find("input");this.setClass();this.setAttr("placeholder");this.$tpl.datepicker(this.options.datepicker);this.$input.off("focus keydown");this.$input.keyup(c.proxy(function(){this.$tpl.removeData("date");this.$tpl.datepicker("update")},this))},value2input:function(a){this.$input.val(a?this.dpg.formatDate(a,this.parsedViewFormat,this.options.datepicker.language):"");this.$tpl.datepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){c.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}});d.defaults=c.extend({},c.fn.editabletypes.date.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-small",datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:true}});c.fn.editabletypes.datefield=d}(window.jQuery));!function(k){function i(){return new Date(Date.UTC.apply(Date,arguments))}function g(){var a=new Date();return i(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate())}var h=function(b,c){var a=this;this.element=k(b);this.language=c.language||this.element.data("date-language")||"en";this.language=this.language in j?this.language:this.language.split("-")[0];this.language=this.language in j?this.language:"en";this.isRTL=j[this.language].rtl||false;this.format=l.parseFormat(c.format||this.element.data("date-format")||j[this.language].format||"mm/dd/yyyy");this.isInline=false;this.isInput=this.element.is("input");this.component=this.element.is(".date")?this.element.find(".add-on"):false;this.hasInput=this.component&&this.element.find("input").length;if(this.component&&this.component.length===0){this.component=false}this._attachEvents();this.forceParse=true;if("forceParse" in c){this.forceParse=c.forceParse}else{if("dateForceParse" in this.element.data()){this.forceParse=this.element.data("date-force-parse")}}this.picker=k(l.template).appendTo(this.isInline?this.element:"body").on({click:k.proxy(this.click,this),mousedown:k.proxy(this.mousedown,this)});if(this.isInline){this.picker.addClass("datepicker-inline")}else{this.picker.addClass("datepicker-dropdown dropdown-menu")}if(this.isRTL){this.picker.addClass("datepicker-rtl");this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")}k(document).on("mousedown",function(d){if(k(d.target).closest(".datepicker.datepicker-inline, .datepicker.datepicker-dropdown").length===0){a.hide()}});this.autoclose=false;if("autoclose" in c){this.autoclose=c.autoclose}else{if("dateAutoclose" in this.element.data()){this.autoclose=this.element.data("date-autoclose")}}this.keyboardNavigation=true;if("keyboardNavigation" in c){this.keyboardNavigation=c.keyboardNavigation}else{if("dateKeyboardNavigation" in this.element.data()){this.keyboardNavigation=this.element.data("date-keyboard-navigation")}}this.viewMode=this.startViewMode=0;switch(c.startView||this.element.data("date-start-view")){case 2:case"decade":this.viewMode=this.startViewMode=2;break;case 1:case"year":this.viewMode=this.startViewMode=1;break}this.minViewMode=c.minViewMode||this.element.data("date-min-view-mode")||0;if(typeof this.minViewMode==="string"){switch(this.minViewMode){case"months":this.minViewMode=1;break;case"years":this.minViewMode=2;break;default:this.minViewMode=0;break}}this.viewMode=this.startViewMode=Math.max(this.startViewMode,this.minViewMode);this.todayBtn=(c.todayBtn||this.element.data("date-today-btn")||false);this.todayHighlight=(c.todayHighlight||this.element.data("date-today-highlight")||false);this.calendarWeeks=false;if("calendarWeeks" in c){this.calendarWeeks=c.calendarWeeks}else{if("dateCalendarWeeks" in this.element.data()){this.calendarWeeks=this.element.data("date-calendar-weeks")}}if(this.calendarWeeks){this.picker.find("tfoot th.today").attr("colspan",function(e,d){return parseInt(d)+1})}this.weekStart=((c.weekStart||this.element.data("date-weekstart")||j[this.language].weekStart||0)%7);this.weekEnd=((this.weekStart+6)%7);this.startDate=-Infinity;this.endDate=Infinity;this.daysOfWeekDisabled=[];this.setStartDate(c.startDate||this.element.data("date-startdate"));this.setEndDate(c.endDate||this.element.data("date-enddate"));this.setDaysOfWeekDisabled(c.daysOfWeekDisabled||this.element.data("date-days-of-week-disabled"));this.fillDow();this.fillMonths();this.update();this.showMode();if(this.isInline){this.show()}};h.prototype={constructor:h,_events:[],_attachEvents:function(){this._detachEvents();if(this.isInput){this._events=[[this.element,{focus:k.proxy(this.show,this),keyup:k.proxy(this.update,this),keydown:k.proxy(this.keydown,this)}]]}else{if(this.component&&this.hasInput){this._events=[[this.element.find("input"),{focus:k.proxy(this.show,this),keyup:k.proxy(this.update,this),keydown:k.proxy(this.keydown,this)}],[this.component,{click:k.proxy(this.show,this)}]]}else{if(this.element.is("div")){this.isInline=true}else{this._events=[[this.element,{click:k.proxy(this.show,this)}]]}}}for(var c=0,b,a;c<this._events.length;c++){b=this._events[c][0];a=this._events[c][1];b.on(a)}},_detachEvents:function(){for(var c=0,b,a;c<this._events.length;c++){b=this._events[c][0];a=this._events[c][1];b.off(a)}this._events=[]},show:function(a){this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.update();this.place();k(window).on("resize",k.proxy(this.place,this));if(a){a.stopPropagation();a.preventDefault()}this.element.trigger({type:"show",date:this.date})},hide:function(a){if(this.isInline){return}if(!this.picker.is(":visible")){return}this.picker.hide();k(window).off("resize",this.place);this.viewMode=this.startViewMode;this.showMode();if(!this.isInput){k(document).off("mousedown",this.hide)}if(this.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())){this.setValue()}this.element.trigger({type:"hide",date:this.date})},remove:function(){this._detachEvents();this.picker.remove();delete this.element.data().datepicker},getDate:function(){var a=this.getUTCDate();return new Date(a.getTime()+(a.getTimezoneOffset()*60000))},getUTCDate:function(){return this.date},setDate:function(a){this.setUTCDate(new Date(a.getTime()-(a.getTimezoneOffset()*60000)))},setUTCDate:function(a){this.date=a;this.setValue()},setValue:function(){var a=this.getFormattedDate();if(!this.isInput){if(this.component){this.element.find("input").val(a)}this.element.data("date",a)}else{this.element.val(a)}},getFormattedDate:function(a){if(a===undefined){a=this.format}return l.formatDate(this.date,a,this.language)},setStartDate:function(a){this.startDate=a||-Infinity;if(this.startDate!==-Infinity){this.startDate=l.parseDate(this.startDate,this.format,this.language)}this.update();this.updateNavArrows()},setEndDate:function(a){this.endDate=a||Infinity;if(this.endDate!==Infinity){this.endDate=l.parseDate(this.endDate,this.format,this.language)}this.update();this.updateNavArrows()},setDaysOfWeekDisabled:function(a){this.daysOfWeekDisabled=a||[];if(!k.isArray(this.daysOfWeekDisabled)){this.daysOfWeekDisabled=this.daysOfWeekDisabled.split(/,\s*/)}this.daysOfWeekDisabled=k.map(this.daysOfWeekDisabled,function(b){return parseInt(b,10)});this.update();this.updateNavArrows()},place:function(){if(this.isInline){return}var a=parseInt(this.element.parents().filter(function(){return k(this).css("z-index")!="auto"}).first().css("z-index"))+10;var b=this.component?this.component.offset():this.element.offset();var c=this.component?this.component.outerHeight(true):this.element.outerHeight(true);this.picker.css({top:b.top+c,left:b.left,zIndex:a})},update:function(){var b,a=false;if(arguments&&arguments.length&&(typeof arguments[0]==="string"||arguments[0] instanceof Date)){b=arguments[0];a=true}else{b=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val()}this.date=l.parseDate(b,this.format,this.language);if(a){this.setValue()}if(this.date<this.startDate){this.viewDate=new Date(this.startDate)}else{if(this.date>this.endDate){this.viewDate=new Date(this.endDate)}else{this.viewDate=new Date(this.date)}}this.fill()},fillDow:function(){var b=this.weekStart,a="<tr>";if(this.calendarWeeks){var c='<th class="cw">&nbsp;</th>';a+=c;this.picker.find(".datepicker-days thead tr:first-child").prepend(c)}while(b<this.weekStart+7){a+='<th class="dow">'+j[this.language].daysMin[(b++)%7]+"</th>"}a+="</tr>";this.picker.find(".datepicker-days thead").append(a)},fillMonths:function(){var a="",b=0;while(b<12){a+='<span class="month">'+j[this.language].monthsShort[b++]+"</span>"}this.picker.find(".datepicker-months td").html(a)},fill:function(){var b=new Date(this.viewDate),K=b.getUTCFullYear(),a=b.getUTCMonth(),E=this.startDate!==-Infinity?this.startDate.getUTCFullYear():-Infinity,d=this.startDate!==-Infinity?this.startDate.getUTCMonth():-Infinity,N=this.endDate!==Infinity?this.endDate.getUTCFullYear():Infinity,D=this.endDate!==Infinity?this.endDate.getUTCMonth():Infinity,M=this.date&&this.date.valueOf(),c=new Date();this.picker.find(".datepicker-days thead th.switch").text(j[this.language].months[a]+" "+K);this.picker.find("tfoot th.today").text(j[this.language].today).toggle(this.todayBtn!==false);this.updateNavArrows();this.fillMonths();var I=i(K,a-1,28,0,0,0,0),e=l.getDaysInMonth(I.getUTCFullYear(),I.getUTCMonth());I.setUTCDate(e);I.setUTCDate(e-(I.getUTCDay()-this.weekStart+7)%7);var S=new Date(I);S.setUTCDate(S.getUTCDate()+42);S=S.valueOf();var L=[];var G;while(I.valueOf()<S){if(I.getUTCDay()==this.weekStart){L.push("<tr>");if(this.calendarWeeks){var R=new Date(+I+(this.weekStart-I.getUTCDay()-7)%7*86400000),P=new Date(+R+(7+4-R.getUTCDay())%7*86400000),Q=new Date(+(Q=i(P.getUTCFullYear(),0,1))+(7+4-Q.getUTCDay())%7*86400000),H=(P-Q)/86400000/7+1;L.push('<td class="cw">'+H+"</td>")}}G="";if(I.getUTCFullYear()<K||(I.getUTCFullYear()==K&&I.getUTCMonth()<a)){G+=" old"}else{if(I.getUTCFullYear()>K||(I.getUTCFullYear()==K&&I.getUTCMonth()>a)){G+=" new"}}if(this.todayHighlight&&I.getUTCFullYear()==c.getFullYear()&&I.getUTCMonth()==c.getMonth()&&I.getUTCDate()==c.getDate()){G+=" today"}if(M&&I.valueOf()==M){G+=" active"}if(I.valueOf()<this.startDate||I.valueOf()>this.endDate||k.inArray(I.getUTCDay(),this.daysOfWeekDisabled)!==-1){G+=" disabled"}L.push('<td class="day'+G+'">'+I.getUTCDate()+"</td>");if(I.getUTCDay()==this.weekEnd){L.push("</tr>")}I.setUTCDate(I.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(L.join(""));var F=this.date&&this.date.getUTCFullYear();var O=this.picker.find(".datepicker-months").find("th:eq(1)").text(K).end().find("span").removeClass("active");if(F&&F==K){O.eq(this.date.getUTCMonth()).addClass("active")}if(K<E||K>N){O.addClass("disabled")}if(K==E){O.slice(0,d).addClass("disabled")}if(K==N){O.slice(D+1).addClass("disabled")}L="";K=parseInt(K/10,10)*10;var J=this.picker.find(".datepicker-years").find("th:eq(1)").text(K+"-"+(K+9)).end().find("td");K-=1;for(var f=-1;f<11;f++){L+='<span class="year'+(f==-1||f==10?" old":"")+(F==K?" active":"")+(K<E||K>N?" disabled":"")+'">'+K+"</span>";K+=1}J.html(L)},updateNavArrows:function(){var a=new Date(this.viewDate),c=a.getUTCFullYear(),b=a.getUTCMonth();switch(this.viewMode){case 0:if(this.startDate!==-Infinity&&c<=this.startDate.getUTCFullYear()&&b<=this.startDate.getUTCMonth()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.endDate!==Infinity&&c>=this.endDate.getUTCFullYear()&&b>=this.endDate.getUTCMonth()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break;case 1:case 2:if(this.startDate!==-Infinity&&c<=this.startDate.getUTCFullYear()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.endDate!==Infinity&&c>=this.endDate.getUTCFullYear()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break}},click:function(a){a.stopPropagation();a.preventDefault();var b=k(a.target).closest("span, td, th");if(b.length==1){switch(b[0].nodeName.toLowerCase()){case"th":switch(b[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var e=l.modes[this.viewMode].navStep*(b[0].className=="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,e);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,e);break}this.fill();break;case"today":var f=new Date();f=i(f.getFullYear(),f.getMonth(),f.getDate(),0,0,0);this.showMode(-2);var p=this.todayBtn=="linked"?null:"view";this._setDate(f,p);break}break;case"span":if(!b.is(".disabled")){this.viewDate.setUTCDate(1);if(b.is(".month")){var o=1;var c=b.parent().find("span").index(b);var d=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(c);this.element.trigger({type:"changeMonth",date:this.viewDate});if(this.minViewMode==1){this._setDate(i(d,c,o,0,0,0,0))}}else{var d=parseInt(b.text(),10)||0;var o=1;var c=0;this.viewDate.setUTCFullYear(d);this.element.trigger({type:"changeYear",date:this.viewDate});if(this.minViewMode==2){this._setDate(i(d,c,o,0,0,0,0))}}this.showMode(-1);this.fill()}break;case"td":if(b.is(".day")&&!b.is(".disabled")){var o=parseInt(b.text(),10)||1;var d=this.viewDate.getUTCFullYear(),c=this.viewDate.getUTCMonth();if(b.is(".old")){if(c===0){c=11;d-=1}else{c-=1}}else{if(b.is(".new")){if(c==11){c=0;d+=1}else{c+=1}}}this._setDate(i(d,c,o,0,0,0,0))}break}}},_setDate:function(c,a){if(!a||a=="date"){this.date=c}if(!a||a=="view"){this.viewDate=c}this.fill();this.setValue();this.element.trigger({type:"changeDate",date:this.date});var b;if(this.isInput){b=this.element}else{if(this.component){b=this.element.find("input")}}if(b){b.change();if(this.autoclose&&(!a||a=="date")){this.hide()}}},moveMonth:function(s,r){if(!r){return s}var e=new Date(s.valueOf()),a=e.getUTCDate(),d=e.getUTCMonth(),f=Math.abs(r),b,c;r=r>0?1:-1;if(f==1){c=r==-1?function(){return e.getUTCMonth()==d}:function(){return e.getUTCMonth()!=b};b=d+r;e.setUTCMonth(b);if(b<0||b>11){b=(b+12)%12}}else{for(var q=0;q<f;q++){e=this.moveMonth(e,r)}b=e.getUTCMonth();e.setUTCDate(a);c=function(){return b!=e.getUTCMonth()}}while(c()){e.setUTCDate(--a);e.setUTCMonth(b)}return e},moveYear:function(a,b){return this.moveMonth(a,b*12)},dateWithinRange:function(a){return a>=this.startDate&&a<=this.endDate},keydown:function(p){if(this.picker.is(":not(:visible)")){if(p.keyCode==27){this.show()}return}var d=false,e,f,a,o,b;switch(p.keyCode){case 27:this.hide();p.preventDefault();break;case 37:case 39:if(!this.keyboardNavigation){break}e=p.keyCode==37?-1:1;if(p.ctrlKey){o=this.moveYear(this.date,e);b=this.moveYear(this.viewDate,e)}else{if(p.shiftKey){o=this.moveMonth(this.date,e);b=this.moveMonth(this.viewDate,e)}else{o=new Date(this.date);o.setUTCDate(this.date.getUTCDate()+e);b=new Date(this.viewDate);b.setUTCDate(this.viewDate.getUTCDate()+e)}}if(this.dateWithinRange(o)){this.date=o;this.viewDate=b;this.setValue();this.update();p.preventDefault();d=true}break;case 38:case 40:if(!this.keyboardNavigation){break}e=p.keyCode==38?-1:1;if(p.ctrlKey){o=this.moveYear(this.date,e);b=this.moveYear(this.viewDate,e)}else{if(p.shiftKey){o=this.moveMonth(this.date,e);b=this.moveMonth(this.viewDate,e)}else{o=new Date(this.date);o.setUTCDate(this.date.getUTCDate()+e*7);b=new Date(this.viewDate);b.setUTCDate(this.viewDate.getUTCDate()+e*7)}}if(this.dateWithinRange(o)){this.date=o;this.viewDate=b;this.setValue();this.update();p.preventDefault();d=true}break;case 13:this.hide();p.preventDefault();break;case 9:this.hide();break}if(d){this.element.trigger({type:"changeDate",date:this.date});var c;if(this.isInput){c=this.element}else{if(this.component){c=this.element.find("input")}}if(c){c.change()}}},showMode:function(a){if(a){this.viewMode=Math.max(this.minViewMode,Math.min(2,this.viewMode+a))}this.picker.find(">div").hide().filter(".datepicker-"+l.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()}};k.fn.datepicker=function(a){var b=Array.apply(null,arguments);b.shift();return this.each(function(){var c=k(this),d=c.data("datepicker"),e=typeof a=="object"&&a;if(!d){c.data("datepicker",(d=new h(this,k.extend({},k.fn.datepicker.defaults,e))))}if(typeof a=="string"&&typeof d[a]=="function"){d[a].apply(d,b)}})};k.fn.datepicker.defaults={};k.fn.datepicker.Constructor=h;var j=k.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today"}};var l={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(a){return(((a%4===0)&&(a%100!==0))||(a%400===0))},getDaysInMonth:function(b,a){return[31,(l.isLeapYear(b)?29:28),31,30,31,30,31,31,30,31,30,31][a]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(a){var c=a.replace(this.validParts,"\0").split("\0"),b=a.match(this.validParts);if(!c||!c.length||!b||b.length===0){throw new Error("Invalid date format.")}return{separators:c,parts:b}},parseDate:function(y,F,e){if(y instanceof Date){return y}if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(y)){var D=/([\-+]\d+)([dmwy])/,f=y.match(/([\-+]\d+)([dmwy])/g),B,s;y=new Date();for(var d=0;d<f.length;d++){B=D.exec(f[d]);s=parseInt(B[1]);switch(B[2]){case"d":y.setUTCDate(y.getUTCDate()+s);break;case"m":y=h.prototype.moveMonth.call(h.prototype,y,s);break;case"w":y.setUTCDate(y.getUTCDate()+s*7);break;case"y":y=h.prototype.moveYear.call(h.prototype,y,s);break}}return i(y.getUTCFullYear(),y.getUTCMonth(),y.getUTCDate(),0,0,0)}var f=y&&y.match(this.nonpunctuation)||[],y=new Date(),a={},G=["yyyy","yy","M","MM","m","mm","d","dd"],E={yyyy:function(n,m){return n.setUTCFullYear(m)},yy:function(n,m){return n.setUTCFullYear(2000+m)},m:function(n,m){m-=1;while(m<0){m+=12}m%=12;n.setUTCMonth(m);while(n.getUTCMonth()!=m){n.setUTCDate(n.getUTCDate()-1)}return n},d:function(n,m){return n.setUTCDate(m)}},z,c,B;E.M=E.MM=E.mm=E.m;E.dd=E.d;y=i(y.getFullYear(),y.getMonth(),y.getDate(),0,0,0);var b=F.parts.slice();if(f.length!=b.length){b=k(b).filter(function(m,n){return k.inArray(n,G)!==-1}).toArray()}if(f.length==b.length){for(var d=0,A=b.length;d<A;d++){z=parseInt(f[d],10);B=b[d];if(isNaN(z)){switch(B){case"MM":c=k(j[e].months).filter(function(){var m=this.slice(0,f[d].length),n=f[d].slice(0,m.length);return m==n});z=k.inArray(c[0],j[e].months)+1;break;case"M":c=k(j[e].monthsShort).filter(function(){var m=this.slice(0,f[d].length),n=f[d].slice(0,m.length);return m==n});z=k.inArray(c[0],j[e].monthsShort)+1;break}}a[B]=z}for(var d=0,C;d<G.length;d++){C=G[d];if(C in a&&!isNaN(a[C])){E[C](y,a[C])}}}return y},formatDate:function(f,b,o){var a={d:f.getUTCDate(),D:j[o].daysShort[f.getUTCDay()],DD:j[o].days[f.getUTCDay()],m:f.getUTCMonth()+1,M:j[o].monthsShort[f.getUTCMonth()],MM:j[o].months[f.getUTCMonth()],yy:f.getUTCFullYear().toString().substring(2),yyyy:f.getUTCFullYear()};a.dd=(a.d<10?"0":"")+a.d;a.mm=(a.m<10?"0":"")+a.m;var f=[],c=k.extend([],b.separators);for(var d=0,e=b.parts.length;d<e;d++){if(c.length){f.push(c.shift())}f.push(a[b.parts[d]])}return f.join("")},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr></tfoot>'};l.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+l.headTemplate+"<tbody></tbody>"+l.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+l.headTemplate+l.contTemplate+l.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+l.headTemplate+l.contTemplate+l.footTemplate+"</table></div></div>";k.fn.datepicker.DPGlobal=l}(window.jQuery);(function(d){var c=function(a){this.init("typeahead",a,c.defaults);this.options.typeahead=d.extend({},c.defaults.typeahead,{matcher:this.matcher,sorter:this.sorter,highlighter:this.highlighter,updater:this.updater},a.typeahead)};d.fn.editableutils.inherit(c,d.fn.editabletypes.list);d.extend(c.prototype,{renderList:function(){this.$input=this.$tpl.is("input")?this.$tpl:this.$tpl.find('input[type="text"]');this.options.typeahead.source=this.sourceData;this.$input.typeahead(this.options.typeahead);var a=this.$input.data("typeahead");a.render=d.proxy(this.typeaheadRender,a);a.select=d.proxy(this.typeaheadSelect,a);a.move=d.proxy(this.typeaheadMove,a);this.renderClear();this.setClass();this.setAttr("placeholder")},value2htmlFinal:function(a,b){if(this.getIsObjects()){var f=d.fn.editableutils.itemsByValue(a,this.sourceData);d(b).text(f.length?f[0].text:"")}else{d(b).text(a)}},html2value:function(a){return a?a:null},value2input:function(a){if(this.getIsObjects()){var b=d.fn.editableutils.itemsByValue(a,this.sourceData);this.$input.data("value",a).val(b.length?b[0].text:"")}else{this.$input.val(a)}},input2value:function(){if(this.getIsObjects()){var a=this.$input.data("value"),b=d.fn.editableutils.itemsByValue(a,this.sourceData);if(b.length&&b[0].text.toLowerCase()===this.$input.val().toLowerCase()){return a}else{return null}}else{return this.$input.val()}},getIsObjects:function(){if(this.isObjects===undefined){this.isObjects=false;for(var a=0;a<this.sourceData.length;a++){if(this.sourceData[a].value!==this.sourceData[a].text){this.isObjects=true;break}}}return this.isObjects},activate:d.fn.editabletypes.text.prototype.activate,renderClear:d.fn.editabletypes.text.prototype.renderClear,postrender:d.fn.editabletypes.text.prototype.postrender,toggleClear:d.fn.editabletypes.text.prototype.toggleClear,clear:function(){d.fn.editabletypes.text.prototype.clear.call(this);this.$input.data("value","")},matcher:function(a){return d.fn.typeahead.Constructor.prototype.matcher.call(this,a.text)},sorter:function(j){var i=[],k=[],l=[],b,a;while(b=j.shift()){a=b.text;if(!a.toLowerCase().indexOf(this.query.toLowerCase())){i.push(b)}else{if(~a.indexOf(this.query)){k.push(b)}else{l.push(b)}}}return i.concat(k,l)},highlighter:function(a){return d.fn.typeahead.Constructor.prototype.highlighter.call(this,a.text)},updater:function(a){this.$element.data("value",a.value);return a.text},typeaheadRender:function(b){var a=this;b=d(b).map(function(h,g){h=d(a.options.item).data("item",g);h.find("a").html(a.highlighter(g));return h[0]});if(this.options.autoSelect){b.first().addClass("active")}this.$menu.html(b);return this},typeaheadSelect:function(){var a=this.$menu.find(".active").data("item");if(this.options.autoSelect||a){this.$element.val(this.updater(a)).change()}return this.hide()},typeaheadMove:function(a){if(!this.shown){return}switch(a.keyCode){case 9:case 13:case 27:if(!this.$menu.find(".active").length){return}a.preventDefault();break;case 38:a.preventDefault();this.prev();break;case 40:a.preventDefault();this.next();break}a.stopPropagation()}});c.defaults=d.extend({},d.fn.editabletypes.list.defaults,{tpl:'<input type="text">',typeahead:null,clear:true});d.fn.editabletypes.typeahead=c}(window.jQuery));
(function(e){var b=[{base:"ö",letters:/[\u00f6]/g},{base:"ü",letters:/[\u00fc]/g},{base:"á",letters:/[\u00e1]/g},{base:"ó",letters:/[\u00f3]/g},{base:"é",letters:/[\u00e9]/g}];var c=false;var a=function(h){if(!c){c=b}for(var g=0;g<c.length;g++){h=h.replace(c[g].letters,c[g].base)}return h};var f={};f.latin_map={"Á":"A","Ă":"A","Ắ":"A","Ặ":"A","Ằ":"A","Ẳ":"A","Ẵ":"A","Ǎ":"A","Â":"A","Ấ":"A","Ậ":"A","Ầ":"A","Ẩ":"A","Ẫ":"A","Ä":"A","Ǟ":"A","Ȧ":"A","Ǡ":"A","Ạ":"A","Ȁ":"A","À":"A","Ả":"A","Ȃ":"A","Ā":"A","Ą":"A","Å":"A","Ǻ":"A","Ḁ":"A","Ⱥ":"A","Ã":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ḃ":"B","Ḅ":"B","Ɓ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ć":"C","Č":"C","Ç":"C","Ḉ":"C","Ĉ":"C","Ċ":"C","Ƈ":"C","Ȼ":"C","Ď":"D","Ḑ":"D","Ḓ":"D","Ḋ":"D","Ḍ":"D","Ɗ":"D","Ḏ":"D","ǲ":"D","ǅ":"D","Đ":"D","Ƌ":"D","Ǳ":"DZ","Ǆ":"DZ","É":"E","Ĕ":"E","Ě":"E","Ȩ":"E","Ḝ":"E","Ê":"E","Ế":"E","Ệ":"E","Ề":"E","Ể":"E","Ễ":"E","Ḙ":"E","Ë":"E","Ė":"E","Ẹ":"E","Ȅ":"E","È":"E","Ẻ":"E","Ȇ":"E","Ē":"E","Ḗ":"E","Ḕ":"E","Ę":"E","Ɇ":"E","Ẽ":"E","Ḛ":"E","Ꝫ":"ET","Ḟ":"F","Ƒ":"F","Ǵ":"G","Ğ":"G","Ǧ":"G","Ģ":"G","Ĝ":"G","Ġ":"G","Ɠ":"G","Ḡ":"G","Ǥ":"G","Ḫ":"H","Ȟ":"H","Ḩ":"H","Ĥ":"H","Ⱨ":"H","Ḧ":"H","Ḣ":"H","Ḥ":"H","Ħ":"H","Í":"I","Ĭ":"I","Ǐ":"I","Î":"I","Ï":"I","Ḯ":"I","İ":"I","Ị":"I","Ȉ":"I","Ì":"I","Ỉ":"I","Ȋ":"I","Ī":"I","Į":"I","Ɨ":"I","Ĩ":"I","Ḭ":"I","Ꝺ":"D","Ꝼ":"F","Ᵹ":"G","Ꞃ":"R","Ꞅ":"S","Ꞇ":"T","Ꝭ":"IS","Ĵ":"J","Ɉ":"J","Ḱ":"K","Ǩ":"K","Ķ":"K","Ⱪ":"K","Ꝃ":"K","Ḳ":"K","Ƙ":"K","Ḵ":"K","Ꝁ":"K","Ꝅ":"K","Ĺ":"L","Ƚ":"L","Ľ":"L","Ļ":"L","Ḽ":"L","Ḷ":"L","Ḹ":"L","Ⱡ":"L","Ꝉ":"L","Ḻ":"L","Ŀ":"L","Ɫ":"L","ǈ":"L","Ł":"L","Ǉ":"LJ","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ń":"N","Ň":"N","Ņ":"N","Ṋ":"N","Ṅ":"N","Ṇ":"N","Ǹ":"N","Ɲ":"N","Ṉ":"N","Ƞ":"N","ǋ":"N","Ñ":"N","Ǌ":"NJ","Ó":"O","Ŏ":"O","Ǒ":"O","Ô":"O","Ố":"O","Ộ":"O","Ồ":"O","Ổ":"O","Ỗ":"O","Ö":"O","Ȫ":"O","Ȯ":"O","Ȱ":"O","Ọ":"O","Ő":"O","Ȍ":"O","Ò":"O","Ỏ":"O","Ơ":"O","Ớ":"O","Ợ":"O","Ờ":"O","Ở":"O","Ỡ":"O","Ȏ":"O","Ꝋ":"O","Ꝍ":"O","Ō":"O","Ṓ":"O","Ṑ":"O","Ɵ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Õ":"O","Ṍ":"O","Ṏ":"O","Ȭ":"O","Ƣ":"OI","Ꝏ":"OO","Ɛ":"E","Ɔ":"O","Ȣ":"OU","Ṕ":"P","Ṗ":"P","Ꝓ":"P","Ƥ":"P","Ꝕ":"P","Ᵽ":"P","Ꝑ":"P","Ꝙ":"Q","Ꝗ":"Q","Ŕ":"R","Ř":"R","Ŗ":"R","Ṙ":"R","Ṛ":"R","Ṝ":"R","Ȑ":"R","Ȓ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꜿ":"C","Ǝ":"E","Ś":"S","Ṥ":"S","Š":"S","Ṧ":"S","Ş":"S","Ŝ":"S","Ș":"S","Ṡ":"S","Ṣ":"S","Ṩ":"S","Ť":"T","Ţ":"T","Ṱ":"T","Ț":"T","Ⱦ":"T","Ṫ":"T","Ṭ":"T","Ƭ":"T","Ṯ":"T","Ʈ":"T","Ŧ":"T","Ɐ":"A","Ꞁ":"L","Ɯ":"M","Ʌ":"V","Ꜩ":"TZ","Ú":"U","Ŭ":"U","Ǔ":"U","Û":"U","Ṷ":"U","Ü":"U","Ǘ":"U","Ǚ":"U","Ǜ":"U","Ǖ":"U","Ṳ":"U","Ụ":"U","Ű":"U","Ȕ":"U","Ù":"U","Ủ":"U","Ư":"U","Ứ":"U","Ự":"U","Ừ":"U","Ử":"U","Ữ":"U","Ȗ":"U","Ū":"U","Ṻ":"U","Ų":"U","Ů":"U","Ũ":"U","Ṹ":"U","Ṵ":"U","Ꝟ":"V","Ṿ":"V","Ʋ":"V","Ṽ":"V","Ꝡ":"VY","Ẃ":"W","Ŵ":"W","Ẅ":"W","Ẇ":"W","Ẉ":"W","Ẁ":"W","Ⱳ":"W","Ẍ":"X","Ẋ":"X","Ý":"Y","Ŷ":"Y","Ÿ":"Y","Ẏ":"Y","Ỵ":"Y","Ỳ":"Y","Ƴ":"Y","Ỷ":"Y","Ỿ":"Y","Ȳ":"Y","Ɏ":"Y","Ỹ":"Y","Ź":"Z","Ž":"Z","Ẑ":"Z","Ⱬ":"Z","Ż":"Z","Ẓ":"Z","Ȥ":"Z","Ẕ":"Z","Ƶ":"Z","Ĳ":"IJ","Œ":"OE","ᴀ":"A","ᴁ":"AE","ʙ":"B","ᴃ":"B","ᴄ":"C","ᴅ":"D","ᴇ":"E","ꜰ":"F","ɢ":"G","ʛ":"G","ʜ":"H","ɪ":"I","ʁ":"R","ᴊ":"J","ᴋ":"K","ʟ":"L","ᴌ":"L","ᴍ":"M","ɴ":"N","ᴏ":"O","ɶ":"OE","ᴐ":"O","ᴕ":"OU","ᴘ":"P","ʀ":"R","ᴎ":"N","ᴙ":"R","ꜱ":"S","ᴛ":"T","ⱻ":"E","ᴚ":"R","ᴜ":"U","ᴠ":"V","ᴡ":"W","ʏ":"Y","ᴢ":"Z","á":"a","ă":"a","ắ":"a","ặ":"a","ằ":"a","ẳ":"a","ẵ":"a","ǎ":"a","â":"a","ấ":"a","ậ":"a","ầ":"a","ẩ":"a","ẫ":"a","ä":"a","ǟ":"a","ȧ":"a","ǡ":"a","ạ":"a","ȁ":"a","à":"a","ả":"a","ȃ":"a","ā":"a","ą":"a","ᶏ":"a","ẚ":"a","å":"a","ǻ":"a","ḁ":"a","ⱥ":"a","ã":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ḃ":"b","ḅ":"b","ɓ":"b","ḇ":"b","ᵬ":"b","ᶀ":"b","ƀ":"b","ƃ":"b","ɵ":"o","ć":"c","č":"c","ç":"c","ḉ":"c","ĉ":"c","ɕ":"c","ċ":"c","ƈ":"c","ȼ":"c","ď":"d","ḑ":"d","ḓ":"d","ȡ":"d","ḋ":"d","ḍ":"d","ɗ":"d","ᶑ":"d","ḏ":"d","ᵭ":"d","ᶁ":"d","đ":"d","ɖ":"d","ƌ":"d","ı":"i","ȷ":"j","ɟ":"j","ʄ":"j","ǳ":"dz","ǆ":"dz","é":"e","ĕ":"e","ě":"e","ȩ":"e","ḝ":"e","ê":"e","ế":"e","ệ":"e","ề":"e","ể":"e","ễ":"e","ḙ":"e","ë":"e","ė":"e","ẹ":"e","ȅ":"e","è":"e","ẻ":"e","ȇ":"e","ē":"e","ḗ":"e","ḕ":"e","ⱸ":"e","ę":"e","ᶒ":"e","ɇ":"e","ẽ":"e","ḛ":"e","ꝫ":"et","ḟ":"f","ƒ":"f","ᵮ":"f","ᶂ":"f","ǵ":"g","ğ":"g","ǧ":"g","ģ":"g","ĝ":"g","ġ":"g","ɠ":"g","ḡ":"g","ᶃ":"g","ǥ":"g","ḫ":"h","ȟ":"h","ḩ":"h","ĥ":"h","ⱨ":"h","ḧ":"h","ḣ":"h","ḥ":"h","ɦ":"h","ẖ":"h","ħ":"h","ƕ":"hv","í":"i","ĭ":"i","ǐ":"i","î":"i","ï":"i","ḯ":"i","ị":"i","ȉ":"i","ì":"i","ỉ":"i","ȋ":"i","ī":"i","į":"i","ᶖ":"i","ɨ":"i","ĩ":"i","ḭ":"i","ꝺ":"d","ꝼ":"f","ᵹ":"g","ꞃ":"r","ꞅ":"s","ꞇ":"t","ꝭ":"is","ǰ":"j","ĵ":"j","ʝ":"j","ɉ":"j","ḱ":"k","ǩ":"k","ķ":"k","ⱪ":"k","ꝃ":"k","ḳ":"k","ƙ":"k","ḵ":"k","ᶄ":"k","ꝁ":"k","ꝅ":"k","ĺ":"l","ƚ":"l","ɬ":"l","ľ":"l","ļ":"l","ḽ":"l","ȴ":"l","ḷ":"l","ḹ":"l","ⱡ":"l","ꝉ":"l","ḻ":"l","ŀ":"l","ɫ":"l","ᶅ":"l","ɭ":"l","ł":"l","ǉ":"lj","ſ":"s","ẜ":"s","ẛ":"s","ẝ":"s","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ᵯ":"m","ᶆ":"m","ń":"n","ň":"n","ņ":"n","ṋ":"n","ȵ":"n","ṅ":"n","ṇ":"n","ǹ":"n","ɲ":"n","ṉ":"n","ƞ":"n","ᵰ":"n","ᶇ":"n","ɳ":"n","ñ":"n","ǌ":"nj","ó":"o","ŏ":"o","ǒ":"o","ô":"o","ố":"o","ộ":"o","ồ":"o","ổ":"o","ỗ":"o","ö":"o","ȫ":"o","ȯ":"o","ȱ":"o","ọ":"o","ő":"o","ȍ":"o","ò":"o","ỏ":"o","ơ":"o","ớ":"o","ợ":"o","ờ":"o","ở":"o","ỡ":"o","ȏ":"o","ꝋ":"o","ꝍ":"o","ⱺ":"o","ō":"o","ṓ":"o","ṑ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","õ":"o","ṍ":"o","ṏ":"o","ȭ":"o","ƣ":"oi","ꝏ":"oo","ɛ":"e","ᶓ":"e","ɔ":"o","ᶗ":"o","ȣ":"ou","ṕ":"p","ṗ":"p","ꝓ":"p","ƥ":"p","ᵱ":"p","ᶈ":"p","ꝕ":"p","ᵽ":"p","ꝑ":"p","ꝙ":"q","ʠ":"q","ɋ":"q","ꝗ":"q","ŕ":"r","ř":"r","ŗ":"r","ṙ":"r","ṛ":"r","ṝ":"r","ȑ":"r","ɾ":"r","ᵳ":"r","ȓ":"r","ṟ":"r","ɼ":"r","ᵲ":"r","ᶉ":"r","ɍ":"r","ɽ":"r","ↄ":"c","ꜿ":"c","ɘ":"e","ɿ":"r","ś":"s","ṥ":"s","š":"s","ṧ":"s","ş":"s","ŝ":"s","ș":"s","ṡ":"s","ṣ":"s","ṩ":"s","ʂ":"s","ᵴ":"s","ᶊ":"s","ȿ":"s","ɡ":"g","ᴑ":"o","ᴓ":"o","ᴝ":"u","ť":"t","ţ":"t","ṱ":"t","ț":"t","ȶ":"t","ẗ":"t","ⱦ":"t","ṫ":"t","ṭ":"t","ƭ":"t","ṯ":"t","ᵵ":"t","ƫ":"t","ʈ":"t","ŧ":"t","ᵺ":"th","ɐ":"a","ᴂ":"ae","ǝ":"e","ᵷ":"g","ɥ":"h","ʮ":"h","ʯ":"h","ᴉ":"i","ʞ":"k","ꞁ":"l","ɯ":"m","ɰ":"m","ᴔ":"oe","ɹ":"r","ɻ":"r","ɺ":"r","ⱹ":"r","ʇ":"t","ʌ":"v","ʍ":"w","ʎ":"y","ꜩ":"tz","ú":"u","ŭ":"u","ǔ":"u","û":"u","ṷ":"u","ü":"u","ǘ":"u","ǚ":"u","ǜ":"u","ǖ":"u","ṳ":"u","ụ":"u","ű":"u","ȕ":"u","ù":"u","ủ":"u","ư":"u","ứ":"u","ự":"u","ừ":"u","ử":"u","ữ":"u","ȗ":"u","ū":"u","ṻ":"u","ų":"u","ᶙ":"u","ů":"u","ũ":"u","ṹ":"u","ṵ":"u","ᵫ":"ue","ꝸ":"um","ⱴ":"v","ꝟ":"v","ṿ":"v","ʋ":"v","ᶌ":"v","ⱱ":"v","ṽ":"v","ꝡ":"vy","ẃ":"w","ŵ":"w","ẅ":"w","ẇ":"w","ẉ":"w","ẁ":"w","ⱳ":"w","ẘ":"w","ẍ":"x","ẋ":"x","ᶍ":"x","ý":"y","ŷ":"y","ÿ":"y","ẏ":"y","ỵ":"y","ỳ":"y","ƴ":"y","ỷ":"y","ỿ":"y","ȳ":"y","ẙ":"y","ɏ":"y","ỹ":"y","ź":"z","ž":"z","ẑ":"z","ʑ":"z","ⱬ":"z","ż":"z","ẓ":"z","ȥ":"z","ẕ":"z","ᵶ":"z","ᶎ":"z","ʐ":"z","ƶ":"z","ɀ":"z","ﬀ":"ff","ﬃ":"ffi","ﬄ":"ffl","ﬁ":"fi","ﬂ":"fl","ĳ":"ij","œ":"oe","ﬆ":"st","ₐ":"a","ₑ":"e","ᵢ":"i","ⱼ":"j","ₒ":"o","ᵣ":"r","ᵤ":"u","ᵥ":"v","ₓ":"x"};String.prototype.latinise=function(){return this.replace(/[^A-Za-z0-9\[\] ]/g,function(g){return f.latin_map[g]||g})};String.prototype.latinize=String.prototype.latinise;String.prototype.isLatin=function(){return this==this.latinise()};convertDoname=function(g){return g.latinise().toLowerCase().replace(" ","")};sendMessage=function(h,i){if(e("#messageHolder").length=0){e("#ContentEditor").prepend('<div id="messageHolder"></div>')}var j=e("#messageHolder");j.empty();j.append('<div class="alert fade"><div class="message"></div></div>');var k=e("#messageHolder .message");var g=e("#messageHolder .alert");k.html(i);g.addClass(h).addClass("in");setTimeout(function(){g.remove()},2000)};romanize=function(g){if(!+g){return false}var k=String(+g).split(""),j=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],l="",h=3;while(h--){l=(j[+k.pop()+(h*10)]||"")+l}return Array(+k.join("")+1).join("M")+l};my_implode_js=function(j,k){var g="";for(var h=0;h<k.length;h++){g+=k[h];if(h!=k.length-1){g+=j}}return g};Date.prototype.customFormat=function(l){var G,p,w,i,v,o,q,n,z,u,A,j,B,C,x,y,t,r,F,g,k;var E=this;p=((G=E.getFullYear())+"").slice(-2);v=(o=E.getMonth()+1)<10?("0"+o):o;i=(w=["January","February","March","April","May","June","July","August","September","October","November","December"][o-1]).substring(0,3);z=(u=E.getDate())<10?("0"+u):u;n=(q=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][E.getDay()]).substring(0,3);k=(u>=10&&u<=20)?"th":((g=u%10)==1)?"st":(g==2)?"nd":(g==3)?"rd":"th";l=l.replace("#YYYY#",G).replace("#YY#",p).replace("#MMMM#",w).replace("#MMM#",i).replace("#MM#",v).replace("#M#",o).replace("#DDDD#",q).replace("#DDD#",n).replace("#DD#",z).replace("#D#",u).replace("#th#",k);B=(A=E.getHours());if(B==0){B=24}if(B>12){B-=12}j=B<10?("0"+B):B;F=(r=A<12?"am":"pm").toUpperCase();C=(x=E.getMinutes())<10?("0"+x):x;y=(t=E.getSeconds())<10?("0"+t):t;return l.replace("#hhh#",A).replace("#hh#",j).replace("#h#",B).replace("#mm#",C).replace("#m#",x).replace("#ss#",y).replace("#s#",t).replace("#ampm#",r).replace("#AMPM#",F)};e.validator.addMethod("dateHU",function(k,j){var g=false;var m=/^\d{4}\.\d{1,2}\.\d{1,2}$/;if(m.test(k)){var o=k.split(".");var h=parseInt(o[1],10);var l=parseInt(o[2],10);var i=parseInt(o[0],10);var n=new Date(i,h-1,l);if((n.getFullYear()==i)&&(n.getMonth()==h-1)&&(n.getDate()==l)){g=true}else{g=false}}else{g=false}return this.optional(j)||g},"Please enter a valid date (yyyy.mm.dd)");e.fn.extend({confirmModal:function(g){var j={heading:"Please confirm",body:"Body contents",text:"Save",page:"",type:"",callback:null,cancel:false,canceltext:"Cancel"};var g=e.extend(j,g);var i='<div class="modal styled" id="myModal"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button><h4>#Heading#</h4></div><div class="modal-body'+((g.type=="question")?" question":"")+'">#Body#</div><div class="modal-footer">';if(g.cancel){i+='<button class="btn btn-dark" id="cancelBtn">#Canceltext#</button>'}i+='<button class="btn btn-dark calltoaction" id="confirmYesBtn">#Text#</button>';i=i.replace("#Heading#",g.heading).replace("#Body#",g.body).replace("#Text#",g.text);if(g.cancel){i=i.replace("#Canceltext#",g.canceltext)}e(this).html(i);e(":input").bind("keypress",function(l){var k=(l.keyCode?l.keyCode:l.which);if(k==13){return false}});if(g.type!=="question"){e(this).find(".modal-body").slimScroll({height:"300px",width:"550px",allowPageScroll:false,alwaysVisible:true})}switch(g.page){case"users":e(this).find(".typeahead").typeahead({minLength:2,source:function(k,l){l(e.parseJSON(e.ajax({url:"/crawl?/process/users/typeahead/",data:{form:e("#usersform").serializeArray(),query:k},type:"POST",dataType:"json",async:false}).responseText))}});break}e(this).modal("show");var h=e(this);e("#confirmYesBtn",this).click(function(){if(g.callback!=null){g.callback();if(g.page!=="users"){e(h).modal("hide")}}});e("#cancelBtn",this).click(function(){e(h).modal("hide")})}});sendEmail=function(g,h){h.url="/crawl?/process/message/";h.data=g;var i=getJsonData(h);return i};secondsToTime=function(j){var h=Math.floor(j/(60*60));var k=j%(60*60);var i=Math.floor(k/60);var g=k%60;var m=Math.ceil(g);var l=h+":"+i+":"+m;return l};removeItem=function(j,h){for(var g in j){if(j[g]==h){j.splice(g,1);break}}};dynamicSort=function(h){var g=1;if(h[0]==="-"){g=-1;h=h.substr(1,h.length-1)}return function(k,j){var i=(k[h]<j[h])?-1:(k[h]>j[h])?1:0;return i*g}};dynamicSortMultiple=function(){var g=arguments;return function(m,l){var j=0,h=0,k=g.length;while(h===0&&j<k){h=dynamicSort(g[j])(m,l);j++}return h}};parseVideoURL=function(h){function g(m,p){var n=new RegExp("(\\?|&)"+p+"\\=([^&]*)(&|$)");var o=m.match(n);if(o){return(o[2])}else{return false}}var l={};var j;var k=/(f|ht)tps?:\/\//g;l.urlType=h.match(k);if(h.match("(www.)?youtube|youtu.be")){l.provider="youtube";l.id=g(h,"v");if(!l.id){var i=h.match(/(?:https?:\/{2})?(?:w{3}\.)?youtu(?:be)?\.(?:com|be)(?:\/watch\?v=|\/)([^\s&]+)/);l.id=i[1]}}else{if(j=h.match(/vimeo.com\/(\d+)/)){l.provider="vimeo";l.id=j[1]}else{return false}}return(l)};createUID=function(){var j=[];var g="0123456789abcdefghjkmnpqrst";for(var h=0;h<8;h++){j[h]=g.substr(Math.floor(Math.random()*16),1)}return j.join("")};createUID2=function(){var j=[];var g="0123456789abcdefghjkmnpqrst";for(var h=0;h<12;h++){j[h]=g.substr(Math.floor(Math.random()*16),1)}return j.join("")};createUUID=function(){var j=[];var g="0123456789abcdef";for(var h=0;h<36;h++){j[h]=g.substr(Math.floor(Math.random()*16),1)}j[14]="4";j[19]=g.substr((j[19]&3)|8,1);j[8]=j[13]=j[18]=j[23]="-";return j.join("")};var d=function(g){if(g.preventDefault){g.preventDefault()}return false};dump=function(g,n){var m="";if(!n){n=0}var l="";for(var h=0;h<n+1;h++){l+="    "}if(typeof(g)=="object"){for(var i in g){var k=g[i];if(typeof(k)=="object"){m+=l+"'"+i+"' ...\n";m+=dump(k,n+1)}else{m+=l+"'"+i+"' => \""+k+'"\n'}}}else{m="===>"+g+"<===("+typeof(g)+")"}return m};calculateFreeSpace=function(k,j){if(j==0){return false}var h=0;for(var g=0;g<k.length;g++){if(!k[g].error){h=h+k[g].size;}}return h};e.fn.extend({preventEnter:function(){return this.each(function(){e(this).bind("keypress",function(h){var g=(h.keyCode?h.keyCode:h.which);if(g==13){return false}})})}})})(jQuery);function lanczosCreate(a){return function(b){if(b>a){return 0}b*=Math.PI;if(Math.abs(b)<1e-16){return 1}var c=b/a;return Math.sin(b)*Math.sin(c)/b/c}}function thumbnailer(b,a,d,c){this.canvas=b;b.width=a.width;b.height=a.height;b.style.display="none";this.ctx=b.getContext("2d");this.ctx.drawImage(a,0,0);this.img=a;this.src=this.ctx.getImageData(0,0,a.width,a.height);this.dest={width:d,height:Math.round(a.height*d/a.width)};this.dest.data=new Array(this.dest.width*this.dest.height*3);this.lanczos=lanczosCreate(c);this.ratio=a.width/d;this.rcp_ratio=2/this.ratio;this.range2=Math.ceil(this.ratio*c/2);this.cacheLanc={};this.center={};this.icenter={};setTimeout(this.process1,0,this,0)}thumbnailer.prototype.process1=function(q,p){q.center.x=(p+0.5)*q.ratio;q.icenter.x=Math.floor(q.center.x);for(var n=0;n<q.dest.height;n++){q.center.y=(n+0.5)*q.ratio;q.icenter.y=Math.floor(q.center.y);var k,c,f,h;k=c=f=h=0;for(var e=q.icenter.x-q.range2;e<=q.icenter.x+q.range2;e++){if(e<0||e>=q.src.width){continue}var o=Math.floor(1000*Math.abs(e-q.center.x));if(!q.cacheLanc[o]){q.cacheLanc[o]={}}for(var d=q.icenter.y-q.range2;d<=q.icenter.y+q.range2;d++){if(d<0||d>=q.src.height){continue}var m=Math.floor(1000*Math.abs(d-q.center.y));if(q.cacheLanc[o][m]==undefined){q.cacheLanc[o][m]=q.lanczos(Math.sqrt(Math.pow(o*q.rcp_ratio,2)+Math.pow(m*q.rcp_ratio,2))/1000)}weight=q.cacheLanc[o][m];if(weight>0){var l=(d*q.src.width+e)*4;k+=weight;c+=weight*q.src.data[l];f+=weight*q.src.data[l+1];h+=weight*q.src.data[l+2]}}}var l=(n*q.dest.width+p)*3;q.dest.data[l]=c/k;q.dest.data[l+1]=f/k;q.dest.data[l+2]=h/k}if(++p<q.dest.width){setTimeout(q.process1,0,q,p)}else{setTimeout(q.process2,0,q)}};thumbnailer.prototype.process2=function(c){c.canvas.width=c.dest.width;c.canvas.height=c.dest.height;c.ctx.drawImage(c.img,0,0);c.src=c.ctx.getImageData(0,0,c.dest.width,c.dest.height);var a,b;for(var e=0;e<c.dest.width;e++){for(var d=0;d<c.dest.height;d++){a=(d*c.dest.width+e)*3;b=(d*c.dest.width+e)*4;c.src.data[b]=c.dest.data[a];c.src.data[b+1]=c.dest.data[a+1];c.src.data[b+2]=c.dest.data[a+2]}}c.ctx.putImageData(c.src,0,0);c.canvas.style.display="block"};function resizeCrop(a,c,i,h){var g=c==0||i==0;if(a.width&&(c&&i==0)){i=a.height*(c/a.width)}var b=c/a.width;var f=i/a.height;var e=g?Math.min(b,f):Math.max(b,f);var d=document.createElement("canvas");d.width=c?c:Math.round(a.width*e);d.height=i?i:Math.round(a.height*e);d.getContext("2d").scale(e,e);d.getContext("2d").drawImage(a,((a.width*e)-d.width)*-0.5,((a.height*e)-d.height)*-0.5);return d}function isSupported(){return localStorage?true:false}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(d,c){if(c==null){c=0}else{if(c<0){c=Math.max(0,this.length+c)}}for(var b=c,a=this.length;b<a;b++){if(this[b]===d){return b}}return -1}}function toObject(a){var c={};for(var b=0;b<a.length;++b){c[b]=a[b]}return c}function clearNULL(a){return a==null?"":a}var _eventHandlers={};function addEventO(e,d,b,a,c){if(e==""){return false}if(!(e in c)){c[e]={}}if(!(d in c[e])){c[e][d]=[]}c[e][d].push([e,b,a]);if(e.addEventListener){e.addEventListener(d,b,a)}else{e.attachEvent("on"+d,b,a)}}function removeAllEventsByNode(f,e,d){if(f in d){var a=d[f];if(e in a){var g=a[e];for(var b=g.length;b--;){var c=g[b];if(f.removeEventListener){f.removeEventListener(e,c[0],c[1])}else{f.detachEvent("on"+e,c[0],c[1])}}}}}function removeAllEventsByEvent(e,d){for(node in d){var a=d[node];for(e in a){var f=a[e];for(var b=f.length;b--;){var c=f[b];if(c[0].removeEventListener){c[0].removeEventListener(e,c[1],c[2])}else{c[0].detachEvent("on"+e,c[1],c[2])}}}}}function __getIEVersion(){var c=-1;if(navigator.appName=="Microsoft Internet Explorer"){var a=navigator.userAgent;var b=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(b.exec(a)!=null){c=parseFloat(RegExp.$1)}}return c}function __getOperaVersion(){var b=0;if(window.opera){var a=window.opera.version();b=parseFloat(a)}return b}var __userAgent=navigator.userAgent;var __isIE=navigator.appVersion.match(/MSIE/)!=null;var __IEVersion=__getIEVersion();var __isIENew=__isIE&&__IEVersion>=8;var __isIEOld=__isIE&&!__isIENew;var __isFireFox=__userAgent.match(/firefox/i)!=null;var __isFireFoxOld=__isFireFox&&((__userAgent.match(/firefox\/2./i)!=null)||(__userAgent.match(/firefox\/1./i)!=null));var __isFireFoxNew=__isFireFox&&!__isFireFoxOld;var __isWebKit=navigator.appVersion.match(/WebKit/)!=null;var __isChrome=navigator.appVersion.match(/Chrome/)!=null;var __isOpera=window.opera!=null;var __operaVersion=__getOperaVersion();var __isOperaOld=__isOpera&&(__operaVersion<10);var util={findPos:function(a){var b=curtop=0;if(a.offsetParent){do{b+=a.offsetLeft;curtop+=a.offsetTop}while(a=a.offsetParent)}return[b,curtop]},getPageScroll:function(){var b,a;if(self.pageYOffset){a=self.pageYOffset;b=self.pageXOffset}else{if(document.documentElement&&document.documentElement.scrollTop){a=document.documentElement.scrollTop;b=document.documentElement.scrollLeft}else{if(document.body){a=document.body.scrollTop;b=document.body.scrollLeft}}}return[b,a]},findPosRelativeToViewport:function(c){var b=this.findPos(c);var a=this.getPageScroll();return[b[0]-a[0],b[1]-a[1]]}};function initAffix(b){for(var a in b){$(b[a]).affix({offset:{top:function(){return $window.width()<=1200?220:220},bottom:-100}})}}function scrollToWorkingArea(a){$("html, body").animate({scrollTop:a.offset().top},1000)}function calculateLIsInRow(a){if($("#detailRow").length){$("#detailRow").remove()}var d;var e;var b=0,c=$(a).find("li.rootClass:not(.hiddenClass)");c.each(function(){if($(this).prev().length>0){if($(this).position().top!=$(this).prev().position().top){return false}b++}else{b++}});e=c.length%b;if(e==0){e=b}d=[parseInt(c.length/b)+1,b,e,c.length];return d}function createDetailRow(a,g,f,c,e){if($("#detailRow").length==1){$("#detailRow").find(".pointer-top").css("left",c);$("#detailRow").find(".inner").html("");$("#detailRow").attr("data-detail-id",a.attr("id"))}else{$("#detailRow").remove();var d="span8";if(a.parent().attr("class").match(/span(\d+)/)[0]!=null){d=a.parent().attr("class").match(/span(\d+)/)[0]}$("html, body").animate({scrollTop:a.offset().top},1000);a.parent().children("li.rootClass:eq("+(f[0]-g==0?f[3]-1:g*f[1]-1)+")").after('<li id="detailRow" data-detail-id="'+a.attr("id")+'" data-row="'+g+'" class="'+d+'" style="background:#cbcbcb;"><div class="pointer-top" style="left:'+c+'"></div><span class="icon-remove"></span><div id="content" class="closed transitions "><div class="inner"></div></div></li>');var b=$("#detailRow > #content");b.css("height",e?e:"200px");b.inner=$("#detailRow > #content .inner");b.toggleClass("open closed");b.contentHeight=b.outerHeight();if(b.hasClass("closed")){b.removeClass("transitions").css("max-height",b.contentHeight);setTimeout(function(){b.addClass("transitions").css({"max-height":0,opacity:0})},10)}else{if(b.hasClass("open")){b.contentHeight+=b.inner.outerHeight();b.css({"max-height":b.contentHeight,opacity:1})}}$("span.icon-remove").bind("click",function(){b.toggleClass("open closed");b.contentHeight=e;if(b.hasClass("closed")){b.removeClass("transitions").css("max-height",b.contentHeight);setTimeout(function(){b.addClass("transitions").css({"max-height":0,opacity:0})},10)}b.animate({height:0},500,function(){$("#detailRow").remove()})})}}function cancelFullscreen(a){var b=a.cancelFullScreen||a.webkitCancelFullScreen||a.mozCancelFullScreen||a.exitFullscreen;if(b){b.call(a)}else{if(typeof window.ActiveXObject!=="undefined"){}}}function requestFullscreen(a){var b=a.requestFullScreen||a.webkitRequestFullScreen||a.mozRequestFullScreen||a.msRequestFullScreen;if(b){b.call(a);$("#gotoFullscreen").removeClass("hiddenClass").attr("data-type","screen").text("Exit fullscreen")}else{if(typeof window.ActiveXObject!=="undefined"){$("#gotoFullscreen").addClass("hiddenClass")}}}function toggleFullscreen(){var b=document.body;var a=(document.fullScreenElement&&document.fullScreenElement!==null)||(document.mozFullScreen||document.webkitIsFullScreen);if(a){cancelFullscreen(document);$("#gotoFullscreen").attr("data-type","fullscreen").text("Fullscreen")}else{requestFullscreen(b);$("#gotoFullscreen").removeClass("hiddenClass").attr("data-type","screen").text("Exit fullscreen")}return false}function getJsonData(c){var b=jQuery.extend({url:"",responseType:"json",async:true,data:{},type:"POST",onOpen:function(){},onClose:function(){},onSelect:function(){}},c);var a=$.ajax({url:b.url,data:b.data,type:b.type,dataType:b.responseType,async:false}).responseText;if(b.responseType=="json"){a=$.parseJSON(a);a.type?sendMessage("alert-"+a.type,a.message):"";return a.result?a:(a.type=="success"?true:false)}return a}function TOlog(c,b){if(_globallogging&&window.console&&window.console.log){window.console.log(c);window.console.log(b)}};